"use strict";(self.webpackChunkPrint_Server_UI=self.webpackChunkPrint_Server_UI||[]).push([[569],{5569:(Ta,ae,p)=>{p.r(ae),p.d(ae,{AdminModule:()=>Ca});var _=p(9808),N=p(8555),m=p(2349),e=p(6903),J=p(591),xe=p(2340),Ce=p(520);let Q=(()=>{class n{constructor(t){this.http=t,this.currentUrl=window.location.hostname,this.completeUrl=xe.N.production?`${this.currentUrl}/app/adminapi`:"localhost:5050/adminapi"}delete(t,i){return this.apiPath=`http://${this.completeUrl}/${t}`,this.http.delete(`${this.apiPath}`,i)}get(t,i){return this.apiPath=`http://${this.completeUrl}/${t}`,this.http.get(`${this.apiPath}`,i)}post(t,i,a){return this.apiPath=`http://${this.completeUrl}/${t}`,this.http.post(`${this.apiPath}`,i,a)}put(t,i,a){return this.apiPath=`http://${this.completeUrl}/${t}`,this.http.put(`${this.apiPath}`,i,a)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ce.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D=(()=>{class n{constructor(t){this.httpService=t,this.userList=new J.X([]),this.externalUserList=new J.X([])}getAllInternalUserList(){return this.httpService.post("getInternalUsersList",{})}addInternalUser(t){return this.httpService.post(t._id?"updateInternalUser":"addInternalUser",t)}getAddedInternalUsers(t){return this.httpService.post("getInternalUsers",t)}assignInternalUsers(t){return this.httpService.post("assignInternalUsers",t)}deleteInternalUser(t){return this.httpService.post("deleteInternalUser",t)}getUserCount(){return this.httpService.post("getUserCount",{})}updateUserCount(t){return this.httpService.post("updateUserCount",t)}getAdminAudit(t){return this.httpService.post("getAdminAudit",t)}getAllExternalUserList(){return this.httpService.post("getExternalUsersList",{})}getExternalUsers(t){return this.httpService.post("getExternalUsers",t)}addExternalUser(t){return this.httpService.post("addExternalUser",t)}assignExternalUsers(t){return this.httpService.post("assignExternalUsers",t)}deleteExternalUser(t){return this.httpService.post("deleteExternalUser",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b=p(7322),A=p(8833),l=p(3075),C=p(1496);let Te=(()=>{class n{constructor(t,i,a){this.data=t,this.dialogRef=i,this.userService=a}ngOnInit(){this.data&&(this.intUserCount=this.data.count)}updateInternalUserCount(){const t={next:i=>{"success"===i.status&&this.dialogRef.close()},error:()=>{},complete:()=>{this.isLoding=!1}};this.isLoding=!0,this.userService.updateUserCount({count:this.intUserCount}).subscribe(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.WI),e.Y36(m.so),e.Y36(D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-active-dialog-modal"]],decls:22,vars:16,consts:[[1,"internal-user-popup",3,"ngSubmit"],["form","ngForm"],[1,"d-flex"],[1,"mat-typography"],[1,"box-wrapper"],[1,"full-width"],["type","number","matInput","","required","","name","activeCountNumber",3,"min","max","ngModel","ngModelChange"],["activeCountNumber","ngModel"],["align","center"],["mat-button","","mat-dialog-close","","type","button",1,"button","mr-2"],["mat-button","","cdkFocusInitial","",1,"button",3,"type","disabled"]],template:function(t,i){if(1&t){const a=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){return i.updateInternalUserCount()}),e.TgZ(2,"div",2)(3,"div")(4,"h3"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"mat-dialog-content",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",6,7),e.NdJ("ngModelChange",function(s){return i.intUserCount=s}),e.qZA()()()(),e.TgZ(15,"mat-dialog-actions",8)(16,"button",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",10),e.NdJ("disabled",function(){e.CHM(a);const s=e.MAs(1);return e.KtG(s.valid)}),e._uU(20),e.ALo(21,"translate"),e.qZA()()()}2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,8,"admin.active-dialog-modal-component.Active-internal-user-count")),e.xp6(6),e.Oqu(e.lcZ(12,10,"admin.active-dialog-modal-component.Enter-Number")),e.xp6(2),e.Q6J("min",1)("max",5)("ngModel",i.intUserCount),e.xp6(4),e.Oqu(e.lcZ(18,12,"admin.active-dialog-modal-component.Cancel")),e.xp6(2),e.Q6J("type","submit"),e.xp6(1),e.Oqu(e.lcZ(21,14,"admin.active-dialog-modal-component.Save")))},dependencies:[b.KE,b.hX,A.Nt,m.ZT,m.xY,m.H8,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.Q7,l.qQ,l.Fd,l.On,l.F,C.X$],styles:['@charset "UTF-8";.dash-main{padding:6rem .9375rem 3.5rem;background-color:#fefffb;background-color:var(--white-color, #fEFFFB);height:100vh;width:100%}.dash-main .box-wrapper{padding:3rem 2rem 2rem;border:.0625rem solid #e6e6e6;border:.0625rem solid var(--border-color, #e6e6e6);box-shadow:.0625rem .0625rem .625rem #92929240;background-color:#fefffb;background-color:var(--white-color, #fEFFFB);border-radius:10px;position:relative;cursor:pointer}.dash-main .box-wrapper .print-info{padding:2rem}.dash-main .box-wrapper .print-info .print-btn{width:100%;font-size:.875rem;line-height:32px}.dash-main .example-card{max-width:300px;margin-bottom:20px;border:.0625rem solid #e6e6e6;border:.0625rem solid var(--border-color, #e6e6e6);box-shadow:.0625rem .0625rem .625rem #92929240;background-color:#fefffb;background-color:var(--white-color, #fEFFFB);border-radius:10px;cursor:pointer}.dash-main .active-class:hover{text-decoration:underline}.dash-main .example-card:hover{background-color:#dee2e6;color:#232d33;color:var(--black-color, #232D33);cursor:pointer;-webkit-transform:scale(1);transform:scale(1);opacity:1;transition:width 2s,height 4s}.dash-main .mat-card-title-group:after{content:"\\27a4";font-size:2rem;background:#ff9e1f;background:var(--orange-color, #ff9e1f);height:80px;width:35px;vertical-align:middle;padding:16px 3px;border-radius:10px}.dash-main mat-card-subtitle.mat-card-subtitle{color:#232d33!important;color:var(--black-color, #232D33)!important}\n'],encapsulation:2}),n})();var T=p(3144),M=p(5671),y=p(508),Me=["*",[["mat-card-footer"]]],ye=["*","mat-card-footer"],Ae=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["img"]],"*"],Ze=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","img","*"],Le=function(){var n=(0,T.Z)(function o(){(0,M.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n}(),Ie=function(){var n=(0,T.Z)(function o(){(0,M.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n}(),ke=function(){var n=(0,T.Z)(function o(t){(0,M.Z)(this,o),this._animationMode=t});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.QbO,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&e.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:ye,decls:2,vars:0,template:function(t,i){1&t&&(e.F$t(Me),e.Hsn(0),e.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n}(),Pe=function(){var n=(0,T.Z)(function o(){(0,M.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-card-title-group"],ngContentSelectors:Ze,decls:4,vars:0,template:function(t,i){1&t&&(e.F$t(Ae),e.TgZ(0,"div"),e.Hsn(1),e.qZA(),e.Hsn(2,1),e.Hsn(3,2))},encapsulation:2,changeDetection:0}),n}(),we=function(){var n=(0,T.Z)(function o(){(0,M.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[y.BQ,y.BQ]}),n}();let Ue=(()=>{class n{constructor(t,i,a,r){this.router=t,this.route=i,this.dialog=a,this.userService=r}ngOnInit(){this.intUserCount=0,this.getInternalUserCount()}getInternalUserCount(){const t={next:i=>{"success"===i.status&&(this.intUserCount=i.payload[0].count)},error:()=>{},complete:()=>{this.isLoading=!1}};this.isLoading=!0,this.userService.getUserCount().subscribe(t)}openActiveModel(t){t.stopPropagation();const i={width:"500px"};i.data={count:this.intUserCount},this.dialog.open(Te,i).afterClosed().subscribe(r=>{this.getInternalUserCount()})}goto(t){this.router.navigate([t],{relativeTo:this.route})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N.F0),e.Y36(N.gz),e.Y36(m.uw),e.Y36(D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-admin-dashboard"]],decls:65,vars:28,consts:[[1,"dash-main","d-flex","align-items-center"],[1,"row","w-100"],[1,"col-md-10","offset-md-1"],[2,"padding-top","30px","color","var(--black-color, #232D33)"],[1,"box-wrapper","text-center"],[1,"print-info"],[1,"row"],[1,"col-md-4"],[1,"example-card",3,"click"],["align","left"],[3,"click"],[1,"active-class"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"mat-card",8),e.NdJ("click",function(){return i.goto("user-list")}),e.TgZ(11,"mat-card-title-group",9)(12,"mat-card-title"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"mat-card-subtitle",10),e.NdJ("click",function(r){return i.openActiveModel(r)}),e.TgZ(16,"a",11),e._uU(17),e.ALo(18,"translate"),e.qZA()()()()(),e.TgZ(19,"div",7)(20,"mat-card",8),e.NdJ("click",function(){return i.goto("profile-list")}),e.TgZ(21,"mat-card-title-group",9)(22,"mat-card-title"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"mat-card-subtitle"),e.qZA()()(),e.TgZ(26,"div",7)(27,"mat-card",8),e.NdJ("click",function(){return i.goto("profile-mapping-list")}),e.TgZ(28,"mat-card-title-group",9)(29,"mat-card-title"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e._UZ(32,"mat-card-subtitle"),e.qZA()()()(),e._UZ(33,"div",6),e.TgZ(34,"div",6)(35,"div",7)(36,"mat-card",8),e.NdJ("click",function(){return i.goto("reasons-list")}),e.TgZ(37,"mat-card-title-group",9)(38,"mat-card-title"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"mat-card-subtitle"),e.qZA()()(),e.TgZ(42,"div",7)(43,"mat-card",8),e.NdJ("click",function(){return i.goto("printer-list")}),e.TgZ(44,"mat-card-title-group",9)(45,"mat-card-title"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e._UZ(48,"mat-card-subtitle"),e.qZA()()(),e.TgZ(49,"div",7)(50,"mat-card",8),e.NdJ("click",function(){return i.goto("ext-user-list")}),e.TgZ(51,"mat-card-title-group",9)(52,"mat-card-title"),e._uU(53),e.ALo(54,"translate"),e.qZA(),e._UZ(55,"mat-card-subtitle"),e.qZA()()()(),e._UZ(56,"div",6),e.TgZ(57,"div",6)(58,"div",7)(59,"mat-card",8),e.NdJ("click",function(){return i.goto("admin-audit")}),e.TgZ(60,"mat-card-title-group",9)(61,"mat-card-title"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e._UZ(64,"mat-card-subtitle"),e.qZA()()()()()()()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,10,"admin.admin-dashboard-component.Configuration-Module")," "),e.xp6(9),e.hij("",e.lcZ(14,12,"admin.admin-dashboard-component.Internal-Users")," "),e.xp6(4),e.AsE(" ",e.lcZ(18,14,"admin.admin-dashboard-component.Active")," : ",i.intUserCount," "),e.xp6(6),e.hij("",e.lcZ(24,16,"admin.admin-dashboard-component.Profiles")," "),e.xp6(7),e.hij("",e.lcZ(31,18,"admin.admin-dashboard-component.Profile-Mapping")," "),e.xp6(9),e.hij("",e.lcZ(40,20,"admin.admin-dashboard-component.Reasons")," "),e.xp6(7),e.hij("",e.lcZ(47,22,"admin.admin-dashboard-component.Printers")," "),e.xp6(7),e.hij("",e.lcZ(54,24,"admin.admin-dashboard-component.External-Users")," "),e.xp6(9),e.hij("",e.lcZ(63,26,"admin.admin-dashboard-component.Audit")," "))},dependencies:[ke,Pe,Le,Ie,C.X$],styles:['@charset "UTF-8";.dash-main{padding:6rem .9375rem 3.5rem;background-color:#fefffb;background-color:var(--white-color, #fEFFFB);height:100vh;width:100%}.dash-main .box-wrapper{padding:3rem 2rem 2rem;border:.0625rem solid #e6e6e6;border:.0625rem solid var(--border-color, #e6e6e6);box-shadow:.0625rem .0625rem .625rem #92929240;background-color:#fefffb;background-color:var(--white-color, #fEFFFB);border-radius:10px;position:relative;cursor:pointer}.dash-main .box-wrapper .print-info{padding:2rem}.dash-main .box-wrapper .print-info .print-btn{width:100%;font-size:.875rem;line-height:32px}.dash-main .example-card{max-width:300px;margin-bottom:20px;border:.0625rem solid #e6e6e6;border:.0625rem solid var(--border-color, #e6e6e6);box-shadow:.0625rem .0625rem .625rem #92929240;background-color:#fefffb;background-color:var(--white-color, #fEFFFB);border-radius:10px;cursor:pointer}.dash-main .active-class:hover{text-decoration:underline}.dash-main .example-card:hover{background-color:#dee2e6;color:#232d33;color:var(--black-color, #232D33);cursor:pointer;-webkit-transform:scale(1);transform:scale(1);opacity:1;transition:width 2s,height 4s}.dash-main .mat-card-title-group:after{content:"\\27a4";font-size:2rem;background:#ff9e1f;background:var(--orange-color, #ff9e1f);height:80px;width:35px;vertical-align:middle;padding:16px 3px;border-radius:10px}.dash-main mat-card-subtitle.mat-card-subtitle{color:#232d33!important;color:var(--black-color, #232D33)!important}\n'],encapsulation:2}),n})();const S={user:null,roles:null},F={print:!1,reprint:!1,recall:!1,reconcile:!1},X={name:null,applicableFor:null,usedIn:null},H={profileName:null,documentName:null},De=[],Ne={type:null},j={name:null};var Y=p(5239),Z=p(4383),oe=p(6869),c=p(8279),P=p(7238);function Oe(n,o){1&n&&(e.TgZ(0,"div",30)(1,"div",31),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"reprint-component.Loading")))}function Re(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"admin.audit.eventType")))}function Se(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.type," ")}}function Fe(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"admin.audit.value")))}function qe(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Be(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"admin.audit.eventDateTime")))}function Ee(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.updatedAt,"d/M/yyyy, h:mm:ss a")," ")}}function Je(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"admin.audit.owner")))}function Qe(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.updatedBy," ")}}function He(n,o){1&n&&e._UZ(0,"tr",34)}function je(n,o){1&n&&e._UZ(0,"tr",35)}const Ye=function(){return{color:"green"}},Ge=function(){return{color:"red"}};let $e=(()=>{class n{constructor(t,i,a,r){this.userService=t,this.toaster=i,this.i18nService=a,this.reportService=r,this.adminAuditTypes=Object.assign({},De),this.adminAuditFilter=Object.assign({},Ne),this.displayedColumns=["type","name","updatedAt","updatedBy"]}ngOnInit(){this.getAdminAudit()}getAdminAudit(){const t={next:i=>{this.auditList="success"===i.status?i.payload:[]},error:i=>{this.toaster.error(i.error.message)},complete:()=>{this.isLoading=!1}};this.isLoading=!0,this.userService.getAdminAudit(this.adminAuditFilter).subscribe(t)}getAdminAuditClear(){this.adminAuditFilter={},this.getAdminAudit()}downloadAsPDF(){this.reportService.exportTableAsPdf(this.getForPdfExport(),this.getColumnWidthForPdfExport(),this.i18nService.translate.instant("admin.audit.adminAudit"))}downloadReport(){const t=Y.utils.book_new(),i=[];this.auditList.map(r=>{const s=this.getXlsxObject(r);i.push(s)});const a=Y.utils.json_to_sheet(i);a.A1.cellStyles={fill:{bgColor:{rgb:"black"}}},Y.utils.book_append_sheet(t,a,"data"),Y.writeFile(t,"report.xlsx")}getForPdfExport(){const t=[[]];return t[0].push({text:this.i18nService.translate.instant("admin.audit.eventType"),bold:!0,alignment:"center"}),t[0].push({text:this.i18nService.translate.instant("admin.audit.value"),bold:!0,alignment:"center"}),t[0].push({text:this.i18nService.translate.instant("admin.audit.eventDateTime"),bold:!0,alignment:"center"}),t[0].push({text:this.i18nService.translate.instant("admin.audit.owner"),bold:!0,alignment:"center"}),this.auditList.map(i=>{const a=[{text:i.type,alignment:"center"},{text:i.name,alignment:"center"},{text:this.reportService.getReportDateWithTime(i.updatedAt),alignment:"center"},{text:i.updatedBy,alignment:"center"}];t.push(a)}),t}getColumnWidthForPdfExport(){return["auto","auto","auto","auto"]}getXlsxObject(t){const i={};return i[this.i18nService.translate.instant("admin.audit.eventType")]=t.type,i[this.i18nService.translate.instant("admin.audit.value")]=t.name,i[this.i18nService.translate.instant("admin.audit.eventDateTime")]=this.reportService.getReportDateWithTime(t.updatedAt),i[this.i18nService.translate.instant("admin.audit.owner")]=t.updatedBy,i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(Z._W),e.Y36(oe.Dp),e.Y36(oe.rM))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-audit"]],decls:55,vars:34,consts:[["class","loader-wrapper",4,"ngIf"],[1,"main-container","admin-audit"],[1,"container-fluid"],[1,"box-wrapper"],[1,"d-flex"],[1,"col-md-12"],[1,"row"],[1,"col-md-6"],[1,"col-md-1"],[1,"col-md-1",3,"click"],["aria-hidden","true",1,"fa","fa-file-excel-o","fa-icon",3,"matTooltip","ngStyle"],["aria-hidden","true",1,"fa","fa-file-pdf-o","fa-icon",3,"ngStyle","matTooltip"],[1,"col-md-2"],[1,"title-border"],[1,"col-md-4"],[1,"full-width"],["type","text","maxlength","70","matInput","",3,"ngModel","ngModelChange"],[1,"col-md-4","button-top"],["mat-icon-button","","type","button",1,"button","mr-2",3,"matTooltip","click"],["mat-icon-button","","type","button",1,"button",3,"matTooltip","click"],[1,"print-table"],["mat-table","","table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","updatedAt"],["matColumnDef","updatedBy"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],[1,"loader-wrapper"],[1,"loader"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"example-element-row"]],template:function(t,i){1&t&&(e.YNc(0,Oe,4,3,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e._UZ(11,"div",8),e.TgZ(12,"div",9),e.NdJ("click",function(){return i.downloadReport()}),e._UZ(13,"i",10),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e.NdJ("click",function(){return i.downloadAsPDF()}),e._UZ(16,"i",11),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"div",8)(19,"div",12),e.qZA(),e._UZ(20,"div",13),e.qZA()(),e.TgZ(21,"div",5)(22,"div",6)(23,"div",14)(24,"mat-form-field",15)(25,"mat-label"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",16),e.NdJ("ngModelChange",function(r){return i.adminAuditFilter.type=r}),e.qZA()()(),e._UZ(29,"div",14),e.TgZ(30,"div",17)(31,"button",18),e.NdJ("click",function(){return i.getAdminAudit()}),e.ALo(32,"translate"),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"button",19),e.NdJ("click",function(){return i.getAdminAuditClear()}),e.ALo(36,"translate"),e._uU(37),e.ALo(38,"translate"),e.qZA()()()(),e.TgZ(39,"div",20)(40,"table",21),e.ynx(41,22),e.YNc(42,Re,3,3,"th",23),e.YNc(43,Se,2,1,"td",24),e.BQk(),e.ynx(44,25),e.YNc(45,Fe,3,3,"th",23),e.YNc(46,qe,2,1,"td",24),e.BQk(),e.ynx(47,26),e.YNc(48,Be,3,3,"th",23),e.YNc(49,Ee,3,4,"td",24),e.BQk(),e.ynx(50,27),e.YNc(51,Je,3,3,"th",23),e.YNc(52,Qe,2,1,"td",24),e.BQk(),e.YNc(53,He,1,0,"tr",28),e.YNc(54,je,1,0,"tr",29),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",i.isLoading),e.xp6(9),e.Oqu(e.lcZ(10,16,"admin.audit.adminAudit")),e.xp6(4),e.s9C("matTooltip",e.lcZ(14,18,"admin.audit.downloadAsExcel")),e.Q6J("ngStyle",e.DdM(32,Ye)),e.xp6(3),e.s9C("matTooltip",e.lcZ(17,20,"admin.audit.downloadAsPdf")),e.Q6J("ngStyle",e.DdM(33,Ge)),e.xp6(10),e.Oqu(e.lcZ(27,22,"admin.audit.adminAuditType")),e.xp6(2),e.Q6J("ngModel",i.adminAuditFilter.type),e.xp6(3),e.s9C("matTooltip",e.lcZ(32,24,"profile-list-component.Apply-Filter")),e.xp6(2),e.hij(" ",e.lcZ(34,26,"profile-list-component.Apply-Filter")," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(36,28,"profile-list-component.Clear-Filter")),e.xp6(2),e.hij(" ",e.lcZ(38,30,"profile-list-component.Clear")," "),e.xp6(3),e.Q6J("dataSource",i.auditList),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[_.O5,_.PC,b.KE,b.hX,A.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,P.gM,l.Fj,l.JJ,l.nD,l.On,_.uU,C.X$],styles:[".admin-audit .fa-icon{font-size:30px;cursor:pointer}.admin-audit .print-table table{width:100%;margin-top:20px}.admin-audit .print-table table .mat-header-cell{font-size:16px;font-weight:500}.admin-audit .print-table table .mat-cell{font-size:16px}\n"],encapsulation:2}),n})();var u=p(1086),I=p(7298),L=p(7954);function ze(n,o){if(1&n&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.label," ")}}function We(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"admin.internalUser.Internal-User-Name-is-required")," "))}function Xe(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-form-field",5)(5,"mat-label"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"input",6,7),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedUser=a)})("ngModelChange",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.filterRecipientsList())}),e.qZA(),e.TgZ(10,"mat-autocomplete",8,9),e.YNc(12,ze,2,2,"mat-option",10),e.ALo(13,"async"),e.qZA()(),e.YNc(14,We,3,3,"mat-error",0),e.qZA()}if(2&n){const t=e.MAs(11),i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"admin.internalUser.deleteMassage")),e.xp6(4),e.Oqu(e.lcZ(7,9,"admin.internalUser.Internal-User")),e.xp6(2),e.Q6J("ngModel",i.selectedUser)("matAutocomplete",t),e.xp6(2),e.Q6J("displayWith",i.displayName),e.xp6(2),e.Q6J("ngForOf",e.lcZ(13,11,i.recipients)),e.xp6(2),e.Q6J("ngIf","required"===i.error.name)}}function Ke(n,o){if(1&n&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij(" ",t.message," ")}}function Ve(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.assignUser())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.confirmButtonText)}}function et(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.onConfirmClick())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.confirmButtonText)}}let O=(()=>{class n{constructor(t,i,a,r,s){this.data=t,this.dialogRef=i,this.userService=a,this.toastr=r,this.i18nService=s,this.error={},this.message=this.i18nService.translate.instant("admin.dialog-component.Are-you-sure-want-to-delete"),this.confirmButtonText=this.i18nService.translate.instant("admin.dialog-component.Delete"),this.cancelButtonText=this.i18nService.translate.instant("admin.dialog-component.No"),this.data&&(this.message=this.data.message||this.message,this.data.buttonText&&(this.confirmButtonText=this.data.buttonText.ok||this.confirmButtonText,this.cancelButtonText=this.data.buttonText.cancel||this.cancelButtonText),this.data.isInternalUser&&this.data.isDocument&&(this.showUserInput=!0,this.getInternalUsers()),this.data.isInternalUser&&!this.data.isDocument&&(this.docInput=!0,this.getInternalUsers()))}onConfirmClick(){this.dialogRef.close(!0)}getInternalUsers(){const t={next:i=>{"success"===i.status?(this.recipientsMaster=i.payload.filter(a=>a._id!==this.data.userId).sort((a,r)=>a.formattedName-r.formattedName).map(a=>({label:a.formattedName,userName:a.userName,_id:a._id})),this.recipients=(0,u.of)([])):(this.recipientsMaster=[],this.recipients=(0,u.of)(this.recipientsMaster))},error:()=>{},complete:()=>{this.loading=!1}};this.loading=!0,this.userService.getAddedInternalUsers({}).subscribe(t)}filterRecipientsList(){this.recipientsMaster&&(this.recipients=(0,u.of)(this.recipientsMaster.filter(t=>{if("string"==typeof this.selectedUser&&0===t.label.toLowerCase().indexOf(this.selectedUser.toLowerCase()))return t})),this.recipients||(this.recipients=(0,u.of)([])))}displayName(t){return t?t.label:""}assignUser(){if(void 0!==this.selectedUser&&"string"!=typeof this.selectedUser&&""!==this.selectedUser.userName||!this.data.isDocument){const t={next:a=>{"success"===a.status?(this.toastr.success(a.message),this.dialogRef.close({status:"success"}),this.getInternalUsers()):(this.toastr.error(a.error.message),this.dialogRef.close({status:"error"}))},error:a=>{"fail"===a.error.status&&this.toastr.error(a.error.message),this.dialogRef.close({status:"error"})},complete:()=>{this.loading=!1}};this.loading=!0;let i=JSON.parse(sessionStorage.getItem("user"));this.userService.assignInternalUsers({_id:this.data.userId,newUserId:this.data.isDocument?this.selectedUser._id:i._id}).subscribe(t)}else this.error={name:"required"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.WI),e.Y36(m.so),e.Y36(D),e.Y36(Z._W),e.Y36(I.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dialog"]],decls:8,vars:5,consts:[[4,"ngIf"],["align","center"],["mat-raised-button","","class","button mr-2",3,"click",4,"ngIf"],["mat-raised-button","","class","button",3,"click",4,"ngIf"],["mat-raised-button","","mat-dialog-close","",1,"button"],[1,"full-width"],["type","text","maxlength","70","matInput","","required","","name","userName",3,"ngModel","matAutocomplete","ngModelChange"],["firstName","ngModel"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-raised-button","",1,"button","mr-2",3,"click"],["mat-raised-button","",1,"button",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-dialog-content"),e.YNc(1,Xe,15,13,"div",0),e.YNc(2,Ke,3,1,"div",0),e.qZA(),e.TgZ(3,"mat-dialog-actions",1),e.YNc(4,Ve,2,1,"button",2),e.YNc(5,et,2,1,"button",3),e.TgZ(6,"button",4),e._uU(7),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf",i.showUserInput),e.xp6(1),e.Q6J("ngIf",!i.showUserInput||i.docInput),e.xp6(2),e.Q6J("ngIf",i.showUserInput||i.docInput),e.xp6(1),e.Q6J("ngIf",!i.showUserInput&&!i.docInput),e.xp6(2),e.Oqu(i.cancelButtonText))},dependencies:[_.sg,_.O5,l.Fj,l.JJ,l.Q7,l.nD,l.On,b.TO,b.KE,b.hX,A.Nt,L.XC,L.ZL,y.ey,m.ZT,m.xY,m.H8,_.Ov,C.X$],styles:[".mat-form-field-appearance-fill .mat-form-field-flex{background:#fff}.example-form-field{width:240px}\n"],encapsulation:2}),n})(),re=(()=>{class n{constructor(t){this.httpService=t}getPrinterList(){return this.httpService.post("getPrinterList",{})}updatePrinterConfiguration(t){return this.httpService.post("updatePrinterConfiguration",t)}deletePrinter(t){return this.httpService.post("deletePrinter",t)}addPrinter(t){return this.httpService.post(t._id?"updatePrinter":"addPrinter",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tt(n,o){1&n&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"printer-component.Loading")))}function nt(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"printer-component.Add-New-Printer")))}function it(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"printer-component.Update-Printer")))}function at(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"printer-component.Printer-Name-is-required")," "))}let ot=(()=>{class n{constructor(t,i,a,r,s){this.data=t,this.dialogRef=i,this.toastr=a,this.i18nService=r,this.printerService=s,this.error={}}ngOnInit(){this.printer={},this.data&&(this.printer=this.data.printer?Object.assign({},this.data.printer):{},this.isUpdate=this.data.isUpdate,this.printer.isWhiteList=this.data.isWhiteList)}updatePrinter(){if(this.printer.name){this.error.name="";const t={next:i=>{"success"===i.status?(this.toastr.success(i.message),this.dialogRef.close({status:"success"})):(this.toastr.error(i.error.message),this.dialogRef.close({status:"error"}))},error:i=>{this.toastr.error(i.error.message),this.dialogRef.close({status:"error"})},complete:()=>{this.loading=!1}};this.loading=!0,this.printerService.addPrinter(this.printer).subscribe(t)}else this.error.name="required"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.WI),e.Y36(m.so),e.Y36(Z._W),e.Y36(I.D),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-printer"]],decls:24,vars:19,consts:[["class","loader-wrapper",4,"ngIf"],[1,"printer-popup",3,"ngSubmit"],["form","ngForm"],[1,"d-flex"],[4,"ngIf"],[1,"mat-typography"],[1,"box-wrapper"],[1,"printer-form-popup"],["matInput","","maxlength","70","type","text","required","","name","printerName",3,"ngModel","placeholder","ngModelChange"],["printerName","ngModel"],["align","center"],["mat-button","","mat-dialog-close","",1,"button","mr-2"],["mat-button","","cdkFocusInitial","",1,"button",3,"type","disabled"],[1,"loader-wrapper"],[1,"loader"]],template:function(t,i){if(1&t&&(e.YNc(0,tt,4,3,"div",0),e.TgZ(1,"form",1,2),e.NdJ("ngSubmit",function(){return i.updatePrinter()}),e.TgZ(3,"div",3)(4,"div"),e.YNc(5,nt,3,3,"h3",4),e.YNc(6,it,3,3,"h3",4),e.qZA()(),e.TgZ(7,"mat-dialog-content",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",8,9),e.NdJ("ngModelChange",function(r){return i.printer.name=r}),e.ALo(15,"translate"),e.qZA(),e.YNc(16,at,3,3,"mat-error",4),e.qZA()()(),e.TgZ(17,"mat-dialog-actions",10)(18,"button",11),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",12),e._uU(22),e.ALo(23,"translate"),e.qZA()()()),2&t){const a=e.MAs(2);e.Q6J("ngIf",i.loading),e.xp6(5),e.Q6J("ngIf",!i.isUpdate),e.xp6(1),e.Q6J("ngIf",i.isUpdate),e.xp6(5),e.Oqu(e.lcZ(12,11,"printer-component.Printer-Name")),e.xp6(2),e.s9C("placeholder",e.lcZ(15,13,"printer-component.Printer-Name")),e.Q6J("ngModel",i.printer.name),e.xp6(3),e.Q6J("ngIf",i.error.name),e.xp6(3),e.Oqu(e.lcZ(20,15,"printer-component.Cancel")),e.xp6(2),e.Q6J("type","submit")("disabled",a.invalid),e.xp6(1),e.Oqu(e.lcZ(23,17,"printer-component.Save"))}},dependencies:[_.O5,b.TO,b.KE,b.hX,A.Nt,m.ZT,m.xY,m.H8,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.On,l.F,C.X$],styles:[".printer-list .example-margin{margin:10px}.printer-list .print-table table{width:100%;margin-top:20px}.printer-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.printer-list .print-table table .mat-cell{font-size:16px}.printer-list mat-slide-toggle{margin-right:1.2rem}.printer-popup mat-dialog-content.mat-typography.mat-dialog-content{overflow:visible!important;overflow:initial!important}.printer-popup mat-form-field.printer-form-popup{width:100%}.printer-popup .mat-radio-button~.mat-radio-button{margin-left:16px}\n"],encapsulation:2}),n})();var K=p(9814);function rt(n,o){1&n&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"printer-list-component.Loading")))}function st(n,o){1&n&&(e.TgZ(0,"th",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"printer-list-component.Printer-Name")))}function lt(n,o){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function ct(n,o){1&n&&(e.TgZ(0,"th",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"printer-list-component.Status")))}function dt(n,o){if(1&n&&(e.TgZ(0,"td",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.isWhiteList?"printer-list-component.WhiteList":"printer-list-component.BlackList")," ")}}function pt(n,o){1&n&&(e.TgZ(0,"th",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"printer-list-component.Actions")))}function mt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",25)(1,"button",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openPrinterDialog(r))}),e._UZ(2,"i",27),e.qZA(),e.TgZ(3,"button",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deletePrinter(r))}),e._UZ(4,"i",29),e.qZA()()}}function ut(n,o){1&n&&e._UZ(0,"tr",30)}function ft(n,o){1&n&&e._UZ(0,"tr",31)}function _t(n,o){1&n&&(e.TgZ(0,"div",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"printer-list-component.No-records-found"),""))}let ht=(()=>{class n{constructor(t,i,a,r){this.dialog=t,this.i18nService=i,this.printerService=a,this.toastr=r,this.displayedColumns=["printerName","status","actions"]}ngOnInit(){this.printerList=[],this.getPrinterList()}getPrinterList(){const t={next:i=>{"success"===i.status?(this.printerList=i.payload.printerList,this.enableBlack=i.payload.printerFlag):(this.printerList=[],this.enableBlack=!1)},error:i=>{this.toastr.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.printerService.getPrinterList().subscribe(t)}updatePrinterConfiguration(){const t={next:i=>{"success"===i.status&&this.getPrinterList()},error:i=>{this.toastr.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.printerService.updatePrinterConfiguration({isWhiteList:this.enableBlack}).subscribe(t)}openPrinterDialog(t){const i={width:"600px"};i.data=Object.assign(t?{printer:t,isUpdate:!0,isWhiteList:this.enableBlack}:{printer:void 0,isUpdate:!1,isWhiteList:this.enableBlack}),this.dialog.open(ot,i).afterClosed().subscribe(r=>{r&&"success"===r.status&&this.getPrinterList()})}deletePrinter(t){this.dialog.open(O,{data:{message:this.i18nService.translate.instant("admin.dialog-component.Are-you-sure-want-to-delete"),buttonText:{ok:this.i18nService.translate.instant("admin.dialog-component.Delete"),cancel:this.i18nService.translate.instant("admin.dialog-component.No")}}}).afterClosed().subscribe(a=>{if(a){const r={next:s=>{"success"===s.status&&(this.toastr.success(s.message),this.getPrinterList())},error:s=>{this.toastr.error(s.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.printerService.deletePrinter({_id:t._id}).subscribe(r)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.uw),e.Y36(I.D),e.Y36(re),e.Y36(Z._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-printer-list"]],decls:37,vars:21,consts:[["class","loader-wrapper",4,"ngIf"],[1,"main-container","printer-list"],[1,"container-fluid"],[1,"box-wrapper"],[1,"d-flex"],[1,"col-md-12","row"],[1,"col-md-4"],[2,"margin-right","10px",3,"ngModel","change","ngModelChange"],[1,"example-margin",3,"value"],["mat-icon-button","","aria-label","add icon",1,"button",3,"matTooltip","click"],[1,"fa","fa-plus","fontCssStyle"],[1,"title-border"],[1,"print-table"],["mat-table","","table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","printerName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],["class","no-record",4,"ngIf"],[1,"loader-wrapper"],[1,"loader"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","edit icon",1,"button","mr-1",3,"click"],[1,"fa","fa-pencil","fontCssStyle"],["mat-icon-button","","aria-label","delete icon",1,"button","ml-1",3,"click"],[1,"fa","fa-trash","fontCssStyle"],["mat-header-row",""],["mat-row","",1,"example-element-row"],[1,"no-record"]],template:function(t,i){1&t&&(e.YNc(0,rt,4,3,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3"),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e._UZ(10,"div",6),e.TgZ(11,"div",6)(12,"mat-radio-group",7),e.NdJ("change",function(){return i.updatePrinterConfiguration()})("ngModelChange",function(r){return i.enableBlack=r}),e.TgZ(13,"mat-radio-button",8),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"mat-radio-button",8),e._uU(17),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"button",9),e.NdJ("click",function(){return i.openPrinterDialog()}),e.ALo(20,"translate"),e._UZ(21,"i",10),e.qZA()()()(),e._UZ(22,"div",11),e.TgZ(23,"div",12)(24,"table",13),e.ynx(25,14),e.YNc(26,st,3,3,"th",15),e.YNc(27,lt,2,1,"td",16),e.BQk(),e.ynx(28,17),e.YNc(29,ct,3,3,"th",15),e.YNc(30,dt,3,3,"td",16),e.BQk(),e.ynx(31,18),e.YNc(32,pt,3,3,"th",15),e.YNc(33,mt,5,0,"td",16),e.BQk(),e.YNc(34,ut,1,0,"tr",19),e.YNc(35,ft,1,0,"tr",20),e.qZA(),e.YNc(36,_t,3,3,"div",21),e.qZA()()()()),2&t&&(e.Q6J("ngIf",i.loading),e.xp6(8),e.Oqu(e.lcZ(9,13,"printer-list-component.Printer-List")),e.xp6(4),e.Q6J("ngModel",i.enableBlack),e.xp6(1),e.Q6J("value",!1),e.xp6(1),e.hij(" ",e.lcZ(15,15,"printer-list-component.Enable-Black")," "),e.xp6(2),e.Q6J("value",!0),e.xp6(1),e.hij(" ",e.lcZ(18,17,"printer-list-component.Enable-White")," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(20,19,"printer-component.Add-New-Printer")),e.xp6(5),e.Q6J("dataSource",i.printerList),e.xp6(10),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===i.printerList.length))},dependencies:[_.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,K.VQ,K.U0,P.gM,l.JJ,l.On,C.X$],styles:[".printer-list .example-margin{margin:10px}.printer-list .print-table table{width:100%;margin-top:20px}.printer-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.printer-list .print-table table .mat-cell{font-size:16px}.printer-list mat-slide-toggle{margin-right:1.2rem}.printer-popup mat-dialog-content.mat-typography.mat-dialog-content{overflow:visible!important;overflow:initial!important}.printer-popup mat-form-field.printer-form-popup{width:100%}.printer-popup .mat-radio-button~.mat-radio-button{margin-left:16px}\n"],encapsulation:2}),n})(),q=(()=>{class n{constructor(t){this.httpService=t,this.profileList=new J.X(void 0),this.documentList=new J.X(void 0)}getProfileList(t){return this.httpService.post("getProfileList",t)}deleteProfile(t){return this.httpService.post("deleteProfile",t)}deleteProfileMapping(t){return this.httpService.post("deleteProfileMapping",t)}saveProfile(t){const i=Object.assign({},t);return i.templates.map(a=>({_id:a._id,index:a.index})),this.httpService.post(t._id?"updateProfile":"saveProfile",i)}getDocumentTypes(){return this.httpService.post("getDocumentTypes",{})}saveTemplate(t){const i=new FormData;return i.append("name",t.name),t.file&&(i.append("data",t.file),i.append("fields",JSON.stringify(t.fields))),t._id?(i.append("_id",t._id),this.httpService.post("updateProfileTemplate",i)):this.httpService.post("saveProfileTemplate",i)}getFormFields(t){const i=new FormData;return i.append("data",t),this.httpService.post("getFormFields",i)}getProfileInfo(t){return this.httpService.post("getProfile",t)}getProfileTemplateList(){return this.httpService.post("getProfileTemplateList",{})}getProfileDocumentList(t){return this.httpService.post("getProfileDocumentList",t)}getDocumentList(t){return this.httpService.post("getDocumentTypes",t)}addProfileMapping(t){const i={_id:t._id,profileId:t.profile._id,profileName:t.profile.name,documents:Array.from(t.documents)};return this.httpService.post(i._id?"updateProfileDocumentMapping":"saveProfileDocumentMapping",i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var G=p(4107);function gt(n,o){1&n&&(e.TgZ(0,"div",32)(1,"div",33),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"reprint-component.Loading")))}function bt(n,o){if(1&n&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function vt(n,o){1&n&&(e.TgZ(0,"th",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-list-component.Profile-Name")))}function xt(n,o){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ct(n,o){1&n&&(e.TgZ(0,"th",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-list-component.Applicable_For")))}function Tt(n,o){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.applicableFor," ")}}function Mt(n,o){1&n&&(e.TgZ(0,"th",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-list-component.Used_In")))}function yt(n,o){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.usedIn," ")}}function At(n,o){1&n&&(e.TgZ(0,"th",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-list-component.Actions")))}function Zt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",35)(1,"button",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.updateProfile(r))}),e._UZ(2,"i",37),e.qZA(),e.TgZ(3,"button",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProfile(r))}),e._UZ(4,"i",39),e.qZA()()}}function Lt(n,o){1&n&&e._UZ(0,"tr",40)}function It(n,o){1&n&&e._UZ(0,"tr",41)}let kt=(()=>{class n{constructor(t,i,a,r,s){this.dialog=t,this.profileService=i,this.router=a,this.toast=r,this.i18nService=s,this.displayedColumns=["name","applicable_for","used_in","actions"],this.profileFilter=Object.assign({},X),this.filteredProfileOptions=(0,u.of)([])}ngOnInit(){this.getProfileList()}getProfileList(){const t={next:i=>{"success"===i.status?(this.profileList=i.payload,this.filteredProfileOptions=(0,u.of)(i.payload)):(this.profileList=[],this.filteredProfileOptions=(0,u.of)([]))},error:i=>{this.toast.error(i.error.message),this.profileList=[],this.filteredProfileOptions=(0,u.of)([])},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.getProfileList(this.profileFilter).subscribe(t)}clearFilter(){this.profileFilter=Object.assign({},X),this.getProfileList()}deleteProfile(t){this.dialog.open(O,{data:{message:this.i18nService.translate.instant("admin.dialog-component.Are-you-sure-want-to-delete"),buttonText:{ok:this.i18nService.translate.instant("admin.dialog-component.Delete"),cancel:this.i18nService.translate.instant("admin.dialog-component.No")}}}).afterClosed().subscribe(a=>{if(a){const r={next:s=>{"success"===s.status?(this.toast.success(s.message),this.profileFilter=Object.assign({},X),this.getProfileList()):this.toast.error(s.error.message)},error:s=>{this.toast.error(s.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.deleteProfile(t).subscribe(r)}})}updateProfile(t){this.router.navigate(["admin/profile"],{queryParams:{id:t._id}})}addProfile(){this.router.navigate(["admin/profile"],{queryParams:{id:null}})}filterProfileName(){this.filteredProfileOptions=(0,u.of)(this.profileFilter?this.profileList.filter(t=>{if(t.name.toLocaleLowerCase().includes(this.profileFilter.name.toLocaleLowerCase()))return t}):this.profileList)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.uw),e.Y36(q),e.Y36(N.F0),e.Y36(Z._W),e.Y36(I.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile-list"]],decls:84,vars:63,consts:[["class","loader-wrapper",4,"ngIf"],[1,"main-container","profile-list"],[1,"container-fluid"],[1,"box-wrapper"],[1,"d-flex"],[1,"col-md-12"],[1,"row"],[1,"col-md-4"],["mat-icon-button","","aria-label","add Profile",1,"button",3,"matTooltip","click"],[1,"fa","fa-plus","fontCssStyle"],[1,"title-border"],[1,"full-width"],["type","text","maxlength","70","matInput","",3,"matAutocomplete","ngModel","ngModelChange"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-2"],["name","applicableFor",3,"ngModel","ngModelChange"],[3,"value"],["name","UsedIn",3,"ngModel","ngModelChange"],[1,"col-md-4","button-top"],["mat-icon-button","","type","button",1,"button","mr-2",3,"matTooltip","click"],["mat-icon-button","","type","button",1,"button",3,"matTooltip","click"],[1,"print-table"],["mat-table","","table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","applicable_for"],["matColumnDef","used_in"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],[1,"loader-wrapper"],[1,"loader"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","edit icon",1,"button","mr-2",3,"click"],[1,"fa","fa-pencil","fontCssStyle"],["mat-icon-button","","aria-label","delete icon",1,"button",3,"click"],[1,"fa","fa-trash","fontCssStyle"],["mat-header-row",""],["mat-row","",1,"example-element-row"]],template:function(t,i){if(1&t&&(e.YNc(0,gt,4,3,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e._UZ(11,"div",7),e.TgZ(12,"div",7)(13,"button",8),e.NdJ("click",function(){return i.addProfile()}),e.ALo(14,"translate"),e._UZ(15,"i",9),e.qZA()()(),e._UZ(16,"div",10),e.qZA()(),e.TgZ(17,"div",5)(18,"div",6)(19,"div",7)(20,"mat-form-field",11)(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"input",12),e.NdJ("ngModelChange",function(r){return i.profileFilter.name=r}),e.qZA(),e.TgZ(25,"mat-autocomplete",null,13),e.YNc(27,bt,2,2,"mat-option",14),e.ALo(28,"async"),e.qZA()()(),e.TgZ(29,"div",15)(30,"mat-form-field",11)(31,"mat-label"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"mat-select",16),e.NdJ("ngModelChange",function(r){return i.profileFilter.applicableFor=r}),e.TgZ(35,"mat-option",17),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"mat-option",17),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"mat-option",17),e._uU(42),e.ALo(43,"translate"),e.qZA()()()(),e.TgZ(44,"div",15)(45,"mat-form-field",11)(46,"mat-label"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"mat-select",18),e.NdJ("ngModelChange",function(r){return i.profileFilter.usedIn=r}),e.TgZ(50,"mat-option",17),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"mat-option",17),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"mat-option",17),e._uU(57),e.ALo(58,"translate"),e.qZA()()()(),e.TgZ(59,"div",19)(60,"button",20),e.NdJ("click",function(){return i.getProfileList()}),e.ALo(61,"translate"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"button",21),e.NdJ("click",function(){return i.clearFilter()}),e.ALo(65,"translate"),e._uU(66),e.ALo(67,"translate"),e.qZA()()()(),e.TgZ(68,"div",22)(69,"table",23),e.ynx(70,24),e.YNc(71,vt,3,3,"th",25),e.YNc(72,xt,2,1,"td",26),e.BQk(),e.ynx(73,27),e.YNc(74,Ct,3,3,"th",25),e.YNc(75,Tt,2,1,"td",26),e.BQk(),e.ynx(76,28),e.YNc(77,Mt,3,3,"th",25),e.YNc(78,yt,2,1,"td",26),e.BQk(),e.ynx(79,29),e.YNc(80,At,3,3,"th",25),e.YNc(81,Zt,5,0,"td",26),e.BQk(),e.YNc(82,Lt,1,0,"tr",30),e.YNc(83,It,1,0,"tr",31),e.qZA()()()()()),2&t){const a=e.MAs(26);e.Q6J("ngIf",i.loading),e.xp6(9),e.Oqu(e.lcZ(10,31,"profile-list-component.Profile-List")),e.xp6(4),e.s9C("matTooltip",e.lcZ(14,33,"profile-list-component.Create-Profile")),e.xp6(9),e.hij("",e.lcZ(23,35,"profile-list-component.Profile-Name")," "),e.xp6(2),e.Q6J("matAutocomplete",a)("ngModel",i.profileFilter.name),e.xp6(3),e.Q6J("ngForOf",e.lcZ(28,37,i.filteredProfileOptions)),e.xp6(5),e.Oqu(e.lcZ(33,39,"profile-component.Applicable-For")),e.xp6(2),e.Q6J("ngModel",i.profileFilter.applicableFor),e.xp6(1),e.Q6J("value","CP"),e.xp6(1),e.Oqu(e.lcZ(37,41,"profile-component.CP")),e.xp6(2),e.Q6J("value","IP"),e.xp6(1),e.Oqu(e.lcZ(40,43,"profile-component.IP")),e.xp6(2),e.Q6J("value","Both"),e.xp6(1),e.Oqu(e.lcZ(43,45,"profile-component.Both")),e.xp6(5),e.Oqu(e.lcZ(48,47,"profile-component.Used-In")),e.xp6(2),e.Q6J("ngModel",i.profileFilter.usedIn),e.xp6(1),e.Q6J("value","Print"),e.xp6(1),e.Oqu(e.lcZ(52,49,"profile-component.Print")),e.xp6(2),e.Q6J("value","Reprint"),e.xp6(1),e.Oqu(e.lcZ(55,51,"profile-component.Reprint")),e.xp6(2),e.Q6J("value","Both"),e.xp6(1),e.Oqu(e.lcZ(58,53,"profile-component.Both")),e.xp6(3),e.s9C("matTooltip",e.lcZ(61,55,"profile-list-component.Apply-Filter")),e.xp6(2),e.hij(" ",e.lcZ(63,57,"profile-list-component.Apply-Filter")," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(65,59,"profile-list-component.Clear")),e.xp6(2),e.hij(" ",e.lcZ(67,61,"profile-list-component.Clear")," "),e.xp6(3),e.Q6J("dataSource",i.profileList),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns)}},dependencies:[_.sg,_.O5,b.KE,b.hX,A.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,L.XC,L.ZL,y.ey,G.gD,P.gM,l.Fj,l.JJ,l.nD,l.On,_.Ov,C.X$],styles:[".profile-list .print-table table{width:100%;margin-top:20px}.profile-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.profile-list .print-table table .mat-cell{font-size:16px}\n"],encapsulation:2}),n})();var R=p(1159);function Pt(n,o){1&n&&(e.TgZ(0,"div",12)(1,"div",13),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"reprint-component.Loading")))}function wt(n,o){if(1&n&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}let Ut=(()=>{class n{constructor(t,i,a,r,s){this.data=t,this.profileService=i,this.toastr=a,this.dialogRef=r,this.i18nService=s}ngOnInit(){this.template={},this.getProfileTemplateList()}getProfileTemplateList(){const t={next:i=>{if("success"===i.status){const a=i.payload.filter(r=>!this.data.includes(r._id));this.templateFilterList=(0,u.of)(a),this.templateList=a}else this.toastr.error("Error in getting template list")},error:()=>{this.toastr.error("Error in getting template list")},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.getProfileTemplateList().subscribe(t)}addTemplateToProfile(){"object"==typeof this.template&&void 0!==this.template.name?this.dialogRef.close({status:"success",template:this.template}):this.toastr.error("Please select template from list")}displayName(t){return t?t.name:""}filterRecipientsList(){this.templateList&&(this.templateFilterList=(0,u.of)(this.templateList.filter(t=>{if("string"==typeof this.template&&0===t.name.indexOf(this.template))return t})),this.templateFilterList||(this.templateFilterList=(0,u.of)([])))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.WI),e.Y36(q),e.Y36(Z._W),e.Y36(m.so),e.Y36(I.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile-template"]],decls:24,vars:19,consts:[["class","loader-wrapper",4,"ngIf"],[1,"d-flex"],[1,"mat-typography"],[1,"box-wrapper"],[1,"full-width"],["type","text","name","template","maxlength","70","matInput","","required","",3,"ngModel","matAutocomplete","ngModelChange"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["align","center"],["mat-button","","mat-dialog-close","",1,"button","mr-2"],["mat-button","","type","button","cdkFocusInitial","",1,"button",3,"click"],[1,"loader-wrapper"],[1,"loader"],[3,"value"]],template:function(t,i){if(1&t&&(e.YNc(0,Pt,4,3,"div",0),e.TgZ(1,"div",1)(2,"div")(3,"h3"),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"mat-dialog-content",2)(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"input",5),e.NdJ("ngModelChange",function(r){return i.template=r})("ngModelChange",function(){return i.filterRecipientsList()}),e.qZA(),e.TgZ(13,"mat-autocomplete",6,7),e.YNc(15,wt,2,2,"mat-option",8),e.ALo(16,"async"),e.qZA()()()(),e.TgZ(17,"mat-dialog-actions",9)(18,"button",10),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"button",11),e.NdJ("click",function(){return i.addTemplateToProfile()}),e._uU(22),e.ALo(23,"translate"),e.qZA()()),2&t){const a=e.MAs(14);e.Q6J("ngIf",i.loading),e.xp6(4),e.Oqu(e.lcZ(5,9,"profile-template-component.Add-Template-from-Existing-Profile")),e.xp6(6),e.Oqu(e.lcZ(11,11,"profile-template-component.Template-Name")),e.xp6(2),e.Q6J("ngModel",i.template)("matAutocomplete",a),e.xp6(1),e.Q6J("displayWith",i.displayName),e.xp6(2),e.Q6J("ngForOf",e.lcZ(16,13,i.templateFilterList)),e.xp6(4),e.Oqu(e.lcZ(20,15,"profile-template-component.Cancel")),e.xp6(3),e.Oqu(e.lcZ(23,17,"profile-template-component.Save"))}},dependencies:[_.sg,_.O5,b.KE,b.hX,A.Nt,L.XC,L.ZL,y.ey,m.ZT,m.xY,m.H8,l.Fj,l.JJ,l.Q7,l.nD,l.On,_.Ov,C.X$],styles:[".admin-profile .print-table table{width:100%;margin-top:20px}.admin-profile .print-table table .mat-header-cell{font-size:16px;font-weight:500}.admin-profile .print-table table .mat-cell{font-size:16px}.admin-profile mat-expansion-panel:first-child{top:.75rem}\n"],encapsulation:2}),n})();var w=p(2140),se=p(5245),B=p(7446),le=p(3237),ce=p(1120),V=p(136),ee=p(7777),E=p(3191),$=p(8929),de=p(2654),pe=p(449),Dt=0,te=new e.OlP("CdkAccordion"),Nt=function(){var n=function(){function o(){(0,M.Z)(this,o),this._stateChanges=new $.xQ,this._openCloseAllActions=new $.xQ,this.id="cdk-accordion-".concat(Dt++),this._multi=!1}return(0,T.Z)(o,[{key:"multi",get:function(){return this._multi},set:function(i){this._multi=(0,E.Ig)(i)}},{key:"openAll",value:function(){this._multi&&this._openCloseAllActions.next(!0)}},{key:"closeAll",value:function(){this._openCloseAllActions.next(!1)}},{key:"ngOnChanges",value:function(i){this._stateChanges.next(i)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[e._Bn([{provide:te,useExisting:n}]),e.TTD]}),n}(),Ot=0,Rt=function(){var n=function(){function o(t,i,a){var r=this;(0,M.Z)(this,o),this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=a,this._openCloseAllSubscription=de.w.EMPTY,this.closed=new e.vpe,this.opened=new e.vpe,this.destroyed=new e.vpe,this.expandedChange=new e.vpe,this.id="cdk-accordion-child-".concat(Ot++),this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=a.listen(function(s,d){r.accordion&&!r.accordion.multi&&r.accordion.id===d&&r.id!==s&&(r.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return(0,T.Z)(o,[{key:"expanded",get:function(){return this._expanded},set:function(i){i=(0,E.Ig)(i),this._expanded!==i&&(this._expanded=i,this.expandedChange.emit(i),i?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(i){this._disabled=(0,E.Ig)(i)}},{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var i=this;return this.accordion._openCloseAllActions.subscribe(function(a){i.disabled||(i.expanded=a)})}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(te,12),e.Y36(e.sBO),e.Y36(pe.A8))},n.\u0275dir=e.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[e._Bn([{provide:te,useValue:void 0}])]}),n}(),St=function(){var n=(0,T.Z)(function o(){(0,M.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n}(),z=p(7429),ne=p(5664),Ft=p(5778),me=p(1059),W=p(2198),qt=p(2986),Bt=p(8896),Et=p(6787),v=p(1777),Jt=["body"];function Qt(n,o){}var Ht=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],jt=["mat-expansion-panel-header","*","mat-action-row"];function Yt(n,o){if(1&n&&e._UZ(0,"span",2),2&n){var t=e.oxw();e.Q6J("@indicatorRotate",t._getExpandedState())}}var Gt=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],$t=["mat-panel-title","mat-panel-description","*"],ie=new e.OlP("MAT_ACCORDION"),ue="225ms cubic-bezier(0.4,0.0,0.2,1)",fe={indicatorRotate:(0,v.X$)("indicatorRotate",[(0,v.SB)("collapsed, void",(0,v.oB)({transform:"rotate(0deg)"})),(0,v.SB)("expanded",(0,v.oB)({transform:"rotate(180deg)"})),(0,v.eR)("expanded <=> collapsed, void => collapsed",(0,v.jt)(ue))]),bodyExpansion:(0,v.X$)("bodyExpansion",[(0,v.SB)("collapsed, void",(0,v.oB)({height:"0px",visibility:"hidden"})),(0,v.SB)("expanded",(0,v.oB)({height:"*",visibility:"visible"})),(0,v.eR)("expanded <=> collapsed, void => collapsed",(0,v.jt)(ue))])},_e=new e.OlP("MAT_EXPANSION_PANEL"),zt=function(){var n=(0,T.Z)(function o(t,i){(0,M.Z)(this,o),this._template=t,this._expansionPanel=i});return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc),e.Y36(_e,8))},n.\u0275dir=e.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n}(),Wt=0,he=new e.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),ge=function(){var n=function(o){(0,V.Z)(i,o);var t=(0,ee.Z)(i);function i(a,r,s,d,g,x,h){var f;return(0,M.Z)(this,i),(f=t.call(this,a,r,s))._viewContainerRef=d,f._animationMode=x,f._hideToggle=!1,f.afterExpand=new e.vpe,f.afterCollapse=new e.vpe,f._inputChanges=new $.xQ,f._headerId="mat-expansion-panel-header-".concat(Wt++),f._bodyAnimationDone=new $.xQ,f.accordion=a,f._document=g,f._bodyAnimationDone.pipe((0,Ft.x)(function(k,U){return k.fromState===U.fromState&&k.toState===U.toState})).subscribe(function(k){"void"!==k.fromState&&("expanded"===k.toState?f.afterExpand.emit():"collapsed"===k.toState&&f.afterCollapse.emit())}),h&&(f.hideToggle=h.hideToggle),f}return(0,T.Z)(i,[{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(r){this._hideToggle=(0,E.Ig)(r)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(r){this._togglePosition=r}},{key:"_hasSpacing",value:function(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"close",value:function(){this.expanded=!1}},{key:"open",value:function(){this.expanded=!0}},{key:"ngAfterContentInit",value:function(){var r=this;this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,me.O)(null),(0,W.h)(function(){return r.expanded&&!r._portal}),(0,qt.q)(1)).subscribe(function(){r._portal=new z.UE(r._lazyContent._template,r._viewContainerRef)})}},{key:"ngOnChanges",value:function(r){this._inputChanges.next(r)}},{key:"ngOnDestroy",value:function(){(0,le.Z)((0,ce.Z)(i.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var r=this._document.activeElement,s=this._body.nativeElement;return r===s||s.contains(r)}return!1}}]),i}(Rt);return n.\u0275fac=function(t){return new(t||n)(e.Y36(ie,12),e.Y36(e.sBO),e.Y36(pe.A8),e.Y36(e.s_b),e.Y36(_.K0),e.Y36(e.QbO,8),e.Y36(he,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(t,i,a){var r;1&t&&e.Suo(a,zt,5),2&t&&e.iGM(r=e.CRH())&&(i._lazyContent=r.first)},viewQuery:function(t,i){var a;1&t&&e.Gf(Jt,5),2&t&&e.iGM(a=e.CRH())&&(i._body=a.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,i){2&t&&e.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[e._Bn([{provide:ie,useValue:void 0},{provide:_e,useExisting:n}]),e.qOj,e.TTD],ngContentSelectors:jt,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,i){1&t&&(e.F$t(Ht),e.Hsn(0),e.TgZ(1,"div",0,1),e.NdJ("@bodyExpansion.done",function(r){return i._bodyAnimationDone.next(r)}),e.TgZ(3,"div",2),e.Hsn(4,1),e.YNc(5,Qt,0,0,"ng-template",3),e.qZA(),e.Hsn(6,2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),e.uIk("aria-labelledby",i._headerId),e.xp6(4),e.Q6J("cdkPortalOutlet",i._portal))},dependencies:[z.Pl],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[fe.bodyExpansion]},changeDetection:0}),n}(),Kt=(0,y.sb)((0,T.Z)(function n(){(0,M.Z)(this,n)})),be=function(){var n=function(o){(0,V.Z)(i,o);var t=(0,ee.Z)(i);function i(a,r,s,d,g,x,h){var f;(0,M.Z)(this,i),(f=t.call(this)).panel=a,f._element=r,f._focusMonitor=s,f._changeDetectorRef=d,f._animationMode=x,f._parentChangeSubscription=de.w.EMPTY;var k=a.accordion?a.accordion._stateChanges.pipe((0,W.h)(function(U){return!(!U.hideToggle&&!U.togglePosition)})):Bt.E_;return f.tabIndex=parseInt(h||"")||0,f._parentChangeSubscription=(0,Et.T)(a.opened,a.closed,k,a._inputChanges.pipe((0,W.h)(function(U){return!!(U.hideToggle||U.disabled||U.togglePosition)}))).subscribe(function(){return f._changeDetectorRef.markForCheck()}),a.closed.pipe((0,W.h)(function(){return a._containsFocus()})).subscribe(function(){return s.focusVia(r,"program")}),g&&(f.expandedHeight=g.expandedHeight,f.collapsedHeight=g.collapsedHeight),f}return(0,T.Z)(i,[{key:"disabled",get:function(){return this.panel.disabled}},{key:"_toggle",value:function(){this.disabled||this.panel.toggle()}},{key:"_isExpanded",value:function(){return this.panel.expanded}},{key:"_getExpandedState",value:function(){return this.panel._getExpandedState()}},{key:"_getPanelId",value:function(){return this.panel.id}},{key:"_getTogglePosition",value:function(){return this.panel.togglePosition}},{key:"_showToggle",value:function(){return!this.panel.hideToggle&&!this.panel.disabled}},{key:"_getHeaderHeight",value:function(){var r=this._isExpanded();return r&&this.expandedHeight?this.expandedHeight:!r&&this.collapsedHeight?this.collapsedHeight:null}},{key:"_keydown",value:function(r){switch(r.keyCode){case R.L_:case R.K5:(0,R.Vb)(r)||(r.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(r))}}},{key:"focus",value:function(r,s){r?this._focusMonitor.focusVia(this._element,r,s):this._element.nativeElement.focus(s)}},{key:"ngAfterViewInit",value:function(){var r=this;this._focusMonitor.monitor(this._element).subscribe(function(s){s&&r.panel.accordion&&r.panel.accordion._handleHeaderFocus(r)})}},{key:"ngOnDestroy",value:function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}]),i}(Kt);return n.\u0275fac=function(t){return new(t||n)(e.Y36(ge,1),e.Y36(e.SBq),e.Y36(ne.tE),e.Y36(e.sBO),e.Y36(he,8),e.Y36(e.QbO,8),e.$8M("tabindex"))},n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(t,i){1&t&&e.NdJ("click",function(){return i._toggle()})("keydown",function(r){return i._keydown(r)}),2&t&&(e.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),e.Udp("height",i._getHeaderHeight()),e.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[e.qOj],ngContentSelectors:$t,decls:5,vars:3,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,i){1&t&&(e.F$t(Gt),e.TgZ(0,"span",0),e.Hsn(1),e.Hsn(2,1),e.Hsn(3,2),e.qZA(),e.YNc(4,Yt,1,1,"span",1)),2&t&&(e.ekj("mat-content-hide-toggle",!i._showToggle()),e.xp6(4),e.Q6J("ngIf",i._showToggle()))},dependencies:[_.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[fe.indicatorRotate]},changeDetection:0}),n}(),Vt=function(){var n=(0,T.Z)(function o(){(0,M.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n}(),en=function(){var n=(0,T.Z)(function o(){(0,M.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n}(),tn=function(){var n=function(o){(0,V.Z)(i,o);var t=(0,ee.Z)(i);function i(){var a;return(0,M.Z)(this,i),(a=t.apply(this,arguments))._ownHeaders=new e.n_E,a._hideToggle=!1,a.displayMode="default",a.togglePosition="after",a}return(0,T.Z)(i,[{key:"hideToggle",get:function(){return this._hideToggle},set:function(r){this._hideToggle=(0,E.Ig)(r)}},{key:"ngAfterContentInit",value:function(){var r=this;this._headers.changes.pipe((0,me.O)(this._headers)).subscribe(function(s){r._ownHeaders.reset(s.filter(function(d){return d.panel.accordion===r})),r._ownHeaders.notifyOnChanges()}),this._keyManager=new ne.Em(this._ownHeaders).withWrap().withHomeAndEnd()}},{key:"_handleHeaderKeydown",value:function(r){this._keyManager.onKeydown(r)}},{key:"_handleHeaderFocus",value:function(r){this._keyManager.updateActiveItem(r)}},{key:"ngOnDestroy",value:function(){(0,le.Z)((0,ce.Z)(i.prototype),"ngOnDestroy",this).call(this),this._ownHeaders.destroy()}}]),i}(Nt);return n.\u0275fac=function(){var o;return function(i){return(o||(o=e.n5z(n)))(i||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(t,i,a){var r;1&t&&e.Suo(a,be,5),2&t&&e.iGM(r=e.CRH())&&(i._headers=r)},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(t,i){2&t&&e.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[e._Bn([{provide:ie,useExisting:n}]),e.qOj]}),n}(),nn=function(){var n=(0,T.Z)(function o(){(0,M.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.ez,y.BQ,St,z.eL]}),n}();const an=["fruitInput"],on=["MatTable"];function rn(n,o){1&n&&(e.TgZ(0,"div",32)(1,"div",33),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"reprint-component.Loading")))}function sn(n,o){1&n&&(e.TgZ(0,"div",34)(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"profile-component.Add-New-Profile")))}function ln(n,o){1&n&&(e.TgZ(0,"div",34)(1,"h3"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"profile-component.Update-Profile")))}function cn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",48),e.NdJ("click",function(a){e.CHM(t);const r=e.oxw().index,s=e.oxw();return e.KtG(s.moveDown(a,r))}),e._uU(1,"keyboard_arrow_down "),e.qZA()}}function dn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",48),e.NdJ("click",function(a){e.CHM(t);const r=e.oxw().index,s=e.oxw();return e.KtG(s.moveUp(a,r))}),e._uU(1,"keyboard_arrow_up "),e.qZA()}}function pn(n,o){if(1&n){const t=e.EpF();e.ynx(0,35),e.TgZ(1,"mat-expansion-panel",36)(2,"mat-expansion-panel-header")(3,"mat-panel-title",37),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"mat-panel-description",10),e.YNc(7,cn,2,0,"mat-icon",38),e.YNc(8,dn,2,0,"mat-icon",38),e.qZA()(),e.TgZ(9,"div",39)(10,"div",10)(11,"mat-form-field",40)(12,"mat-label"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",41,42),e.NdJ("ngModelChange",function(a){const s=e.CHM(t).$implicit;return e.KtG(s.name=a)}),e.qZA()()(),e.TgZ(17,"div",43)(18,"button",44),e.NdJ("click",function(){const r=e.CHM(t).index,s=e.oxw();return e.KtG(s.openFile(r))}),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"input",45),e.NdJ("change",function(a){const s=e.CHM(t).index,d=e.oxw();return e.KtG(d.selectFile(a.target.files,s))}),e.qZA()(),e.TgZ(22,"div",46),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",47)(26,"button",44),e.NdJ("click",function(){const r=e.CHM(t).index,s=e.oxw();return e.KtG(s.saveTemplate(r))}),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"button",44),e.NdJ("click",function(){const r=e.CHM(t).index,s=e.oxw();return e.KtG(s.deleteTemplate(r))}),e._uU(30),e.ALo(31,"translate"),e.qZA()()()(),e.BQk()}if(2&n){const t=o.$implicit,i=o.index,a=o.last,r=o.first;e.xp6(1),e.Q6J("expanded",a),e.xp6(3),e.hij(" ",t.name?t.name:e.lcZ(5,14,"profile-component.templateName")," "),e.xp6(3),e.Q6J("ngIf",!a),e.xp6(1),e.Q6J("ngIf",!r),e.xp6(5),e.Oqu(e.lcZ(14,16,"profile-component.Template-Name")),e.xp6(2),e.MGl("name","templateName",i,""),e.Q6J("ngModel",t.name),e.xp6(4),e.hij(" ",e.lcZ(20,18,"profile-component.Add-File")," "),e.xp6(2),e.MGl("id","fileId",i,"")("name","fileId",i,""),e.xp6(2),e.AsE(" ",e.lcZ(24,20,"profile-component.File-URL")," : ",t.url," "),e.xp6(4),e.hij(" ",e.lcZ(28,22,"profile-component.saveTemplate")," "),e.xp6(3),e.hij(" ",e.lcZ(31,24,"profile-component.resetTemplate")," ")}}function mn(n,o){1&n&&(e.TgZ(0,"th",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"profile-component.key")," "))}function un(n,o){if(1&n&&(e.TgZ(0,"td",63),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.key," ")}}function fn(n,o){1&n&&(e.TgZ(0,"th",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"profile-component.User-Input-Label")," "))}function _n(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",63)(1,"mat-form-field",11)(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",64,65),e.NdJ("ngModelChange",function(a){const s=e.CHM(t).$implicit;return e.KtG(s.name=a)}),e.qZA()()()}if(2&n){const t=o.$implicit,i=o.dataIndex;e.xp6(3),e.Oqu(e.lcZ(4,4,"profile-component.User-Input-Label")),e.xp6(2),e.MGl("name","inputName_",i,""),e.Q6J("ngModel",t.name)("required",t.show)}}function hn(n,o){1&n&&(e.TgZ(0,"th",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-component.User-Input-Type")))}function gn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",63)(1,"mat-form-field")(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-select",66,67),e.NdJ("ngModelChange",function(a){const s=e.CHM(t).$implicit;return e.KtG(s.type=a)}),e.TgZ(7,"mat-option",16),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"mat-option",16),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()}if(2&n){const t=o.$implicit,i=o.dataIndex;e.xp6(3),e.Oqu(e.lcZ(4,8,"profile-component.User-Input-Type")),e.xp6(2),e.MGl("name","filedType",i,""),e.Q6J("ngModel",t.type)("required",t.show),e.xp6(2),e.Q6J("value","Text"),e.xp6(1),e.hij("",e.lcZ(9,10,"profile-component.Input-Box")," "),e.xp6(2),e.Q6J("value","Dropdown"),e.xp6(1),e.hij(" ",e.lcZ(12,12,"profile-component.Select-Box"),"")}}function bn(n,o){1&n&&(e.TgZ(0,"th",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"profile-component.User-Input-Validation")," "))}function vn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",63)(1,"mat-form-field")(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"mat-select",68,69),e.NdJ("ngModelChange",function(a){const s=e.CHM(t).$implicit;return e.KtG(s.validation=a)}),e.TgZ(7,"mat-option",16),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"mat-option",16),e._uU(11),e.ALo(12,"translate"),e.qZA()()()()}if(2&n){const t=o.$implicit,i=o.dataIndex;e.xp6(3),e.Oqu(e.lcZ(4,8,"profile-component.User-Input-Validation")),e.xp6(2),e.MGl("name","validation",i,""),e.Q6J("ngModel",t.validation)("required",t.show),e.xp6(2),e.Q6J("value","Required"),e.xp6(1),e.hij("",e.lcZ(9,10,"profile-component.Required")," "),e.xp6(2),e.Q6J("value","NotRequired"),e.xp6(1),e.hij("",e.lcZ(12,12,"profile-component.Not-Required")," ")}}function xn(n,o){1&n&&(e.TgZ(0,"th",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"profile-component.Dropdown-Option")," "))}function Cn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-chip",76),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,s=e.oxw(2).$implicit,d=e.oxw(2);return e.KtG(d.removeSelectOptions(s,r))}),e._uU(1),e.TgZ(2,"button",77)(3,"mat-icon"),e._uU(4,"cancel"),e.qZA()()()}if(2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.label," ")}}function Tn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-form-field",11)(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-chip-list",71,72),e.YNc(6,Cn,5,1,"mat-chip",73),e.TgZ(7,"input",74,75),e.NdJ("matChipInputTokenEnd",function(a){e.CHM(t);const r=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.addSelectOptions(a,r))}),e.ALo(9,"translate"),e.qZA()()()}if(2&n){const t=e.MAs(5),i=e.oxw(),a=i.$implicit,r=i.dataIndex,s=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,7,"profile-component.Dropdown-Option")),e.xp6(4),e.Q6J("ngForOf",a.selectOptions),e.xp6(1),e.s9C("placeholder",e.lcZ(9,9,"profile-component.Dropdown-Option")),e.MGl("name","dropdownList",r,""),e.Q6J("formControl",s.fruitCtrl)("matChipInputFor",t)("matChipInputSeparatorKeyCodes",s.separatorKeysCodes)}}function Mn(n,o){if(1&n&&(e.TgZ(0,"td",63),e.YNc(1,Tn,10,11,"mat-form-field",70),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf","Dropdown"===t.type)}}function yn(n,o){1&n&&(e.TgZ(0,"th",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-list-component.Actions")))}function An(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",79),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().dataIndex,r=e.oxw(2);return e.KtG(r.deleteUserInputFields(a))}),e._UZ(1,"i",80),e.qZA()}}function Zn(n,o){if(1&n&&(e.TgZ(0,"td",63),e.YNc(1,An,2,0,"button",78),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!t.key)}}function Ln(n,o){1&n&&e._UZ(0,"tr",81)}function In(n,o){1&n&&e._UZ(0,"tr",82),2&n&&e.Q6J("hidden",!o.$implicit.show)}function kn(n,o){if(1&n&&(e.TgZ(0,"div",49)(1,"table",50,51),e.ynx(3,52),e.YNc(4,mn,3,3,"th",53),e.YNc(5,un,2,1,"td",54),e.BQk(),e.ynx(6,55),e.YNc(7,fn,3,3,"th",53),e.YNc(8,_n,7,6,"td",54),e.BQk(),e.ynx(9,56),e.YNc(10,hn,3,3,"th",53),e.YNc(11,gn,13,14,"td",54),e.BQk(),e.ynx(12,57),e.YNc(13,bn,3,3,"th",53),e.YNc(14,vn,13,14,"td",54),e.BQk(),e.ynx(15,58),e.YNc(16,xn,3,3,"th",53),e.YNc(17,Mn,2,1,"td",54),e.BQk(),e.ynx(18,59),e.YNc(19,yn,3,3,"th",53),e.YNc(20,Zn,2,1,"td",54),e.BQk(),e.YNc(21,Ln,1,0,"tr",60),e.YNc(22,In,1,1,"tr",61),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.profile.userInputFields),e.xp6(20),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}let Pn=(()=>{class n{constructor(t,i,a,r,s,d){this.dialog=t,this.router=i,this.route=a,this.profileService=r,this.toaster=s,this.i18nService=d,this.separatorKeysCodes=[R.K5,R.OC],this.fruitCtrl=new l.NI,this.displayedColumns=["key","name","type","validation","selectOptions","action"],this.isAllTemplateSaved=!0}ngOnInit(){this.profile={templates:[]},this.route.queryParams.subscribe(t=>{0!==Object.keys(t).length&&t.id&&null!==t.id&&(this.isUpdate=!0,this.getProfileInfo(t.id))})}getProfileInfo(t){const i={next:a=>{"success"===a.status?(this.profile=a.payload[0],this.isAllTemplateSaved=!0):this.toaster.error(a.error.message)},error:()=>{},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.getProfileInfo({_id:t}).subscribe(i)}openFile(t){document.getElementById(`fileId${t}`).click()}selectFile(t,i){const a=t.item(0);if(this.profile.userInputFields&&(this.profile.userInputFields=this.profile.userInputFields.filter(r=>r.templateId!==`${i}`)),"application/pdf"===a.type&&Math.round(a.size/1048576)<=5){const r={next:s=>{if("success"==s.status){const d=Object.keys(s.payload).map(h=>({key:h,value:s.payload[h]}));let g=[];this.profile.templates.map((h,f)=>{h.fields&&f!==i&&(g=h.fields.concat(g))});const x=d.map(h=>h.key).filter(h=>g.map(f=>f.key).includes(h));0===x.length?(this.profile.templates[i].url=a.name,this.profile.templates[i].file=a,this.profile.templates[i].fields=d,d.map(h=>{const f={key:h.key,value:h.value,show:!!h.key.startsWith("^"),printType:h.key.startsWith("#")?"Input":h.key.startsWith("@")?"Meta":h.key.startsWith("^")?"System":"None",templateId:i+"",name:"",type:"Text",validation:null,selectOptions:null};this.profile.userInputFields||(this.profile.userInputFields=[]),this.profile.userInputFields.push(f)}),this.table&&this.table.renderRows()):this.toaster.error(s.error.message+x)}else this.toaster.error(s.error.message)},error:s=>{this.toaster.error(s.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.getFormFields(a).subscribe(r)}else this.toaster.error(this.i18nService.translate.instant("profile-component.error.fileSize"))}openProfileTemplateDialog(){const t={width:"600px",data:this.profile.templates.map(a=>a._id)};this.dialog.open(Ut,t).afterClosed().subscribe(a=>{"success"===a.status&&this.addTemplate(a.template)})}addTemplate(t){t.index=Math.max.apply(Math,this.profile.templates.map(i=>i.index))+1,this.profile.templates.push(t)}addNewTemplate(){this.isAllTemplateSaved=!1,this.addTemplate({})}saveTemplate(t){const i=this.profile.templates[t];if(console.log(i),void 0===i.name)return void this.toaster.error(this.i18nService.translate.instant("profile-component.error.templateName"));if(void 0===i.fields&&void 0===i.file)return void this.toaster.error(this.i18nService.translate.instant("profile-component.error.templateFile"));const a={next:r=>{"success"===r.status?(this.profile.templates[t]=r.payload,this.isAllTemplateSaved=!0):this.toaster.error(r.error.message)},error:r=>{this.toaster.error(r.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.saveTemplate(this.profile.templates[t]).subscribe(a)}deleteTemplate(t){this.profile.templates.splice(t,1),this.profile.userInputFields&&(this.profile.userInputFields=this.profile.userInputFields.filter(i=>i.templateId!==`${t}`),this.table.renderRows()),this.isAllTemplateSaved=0===this.profile.templates.length||this.isAllTemplateSaved}moveDown(t,i){t.stopPropagation(),[this.profile.templates[i],this.profile.templates[i+1]]=[this.profile.templates[i+1],this.profile.templates[i]],this.assignIndex()}moveUp(t,i){t.stopPropagation(),[this.profile.templates[i],this.profile.templates[i-1]]=[this.profile.templates[i-1],this.profile.templates[i]],this.assignIndex()}assignIndex(){this.profile.templates=this.profile.templates.map((t,i)=>(t.index=i+1,t))}addNewUserInput(){void 0===this.profile.userInputFields&&(this.profile.userInputFields=[]),this.profile.userInputFields.push({printType:"System",show:!0,type:"Text",name:"",key:"",selectOptions:null,validation:null,templateId:"-1"}),this.table.renderRows()}addSelectOptions(t,i){i.selectOptions||(i.selectOptions=[]);const a=t.input,r=t.value.trim();i.selectOptions.push({label:r,value:r}),a&&(a.value=""),this.fruitCtrl.setValue(null)}removeSelectOptions(t,i){t.selectOptions=t.selectOptions.filter(a=>a.label!==i.label)}deleteUserInputFields(t){this.profile.userInputFields.splice(t,1),this.table.renderRows()}validateProfileTemplate(){let t=!0;if(this.profile.templates&&this.profile.templates.length>0)for(let i of this.profile.templates)i._id?(!i.name||!i.url)&&(this.toaster.error(this.i18nService.translate.instant("profile-component.error.fillAll")),t=!1):(this.toaster.error(this.i18nService.translate.instant("profile-component.error.pleaseSave")+i.name),t=!1);else t=!1;return t}validateProfileFields(){let t=!0;if(this.profile.userInputFields)for(let i of this.profile.userInputFields)i.show&&(!i.name||!i.validation||"Dropdown"===i.type&&!i.selectOptions)&&(t=!1);return t}validateProfile(){let t=!0;return this.profile?(t=this.validateProfileTemplate(),t&&(t=this.validateProfileFields())):t=!1,t}saveProfile(){if(this.validateProfile()){const t={next:i=>{"success"===i.status?(this.toaster.success(i.message),this.router.navigate(["admin/profile-list"],{})):this.toaster.error(this.i18nService.translate.instant("admin.internalUser.Failed-to-update-and-save-a-Profile"))},error:i=>{this.loading=!1,this.toaster.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.saveProfile(this.profile).subscribe(t)}}gotoDashboard(){this.router.navigate(["admin/profile-list"],{})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.uw),e.Y36(N.F0),e.Y36(N.gz),e.Y36(q),e.Y36(Z._W),e.Y36(I.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile"]],viewQuery:function(t,i){if(1&t&&(e.Gf(an,5),e.Gf(on,5)),2&t){let a;e.iGM(a=e.CRH())&&(i.fruitInput=a.first),e.iGM(a=e.CRH())&&(i.table=a.first)}},decls:84,vars:66,consts:[["class","loader-wrapper",4,"ngIf"],[1,"main-container","admin-profile"],[1,"container-fluid"],[1,"box-wrapper"],["name","profileForm","novalidate",""],["profileForm","ngForm"],[1,"d-flex"],["class","col-md-9",4,"ngIf"],[1,"gray-separator"],[1,"row"],[1,"col-md-4"],[1,"full-width"],["matInput","","name","profileName","required","",3,"ngModel","ngModelChange"],["profileName","ngModel"],["name","applicableFor","required","",3,"ngModel","ngModelChange"],["applicableFor","ngModel"],[3,"value"],["name","usedIn","required","",3,"ngModel","ngModelChange"],["usedIn","ngModel"],[1,"col-md-6"],["type","checkbox","name","batchNumber",3,"ngModel","ngModelChange"],["batchNumber","ngModel"],[1,"text-right"],["mat-button","","type","button",1,"button","mr-2",3,"disabled","click"],["type","button",1,"button",3,"disabled","click"],["class","row full-width",4,"ngFor","ngForOf"],[1,"col-md-10"],[1,"col-md-2"],["mat-icon-button","","aria-label","add icon",1,"button",3,"matTooltip","click"],[1,"fa","fa-plus","fontCssStyle"],["class","print-table",4,"ngIf"],["mat-icon-button","","type","button",1,"button","mr-2",3,"matTooltip","click"],[1,"loader-wrapper"],[1,"loader"],[1,"col-md-9"],[1,"row","full-width"],[3,"expanded"],[1,"col-md-8"],[3,"click",4,"ngIf"],[1,"row","col-md-12"],["appearance","fill",1,"full-width"],["matInput","","required","","type","text","maxlength","100",3,"ngModel","name","ngModelChange"],["templateName","ngModel"],[1,"col-md-1"],["type","button",1,"button",3,"click"],["type","file","accept",".pdf",2,"display","none",3,"id","name","change"],[1,"col-md-3"],[1,"col-md-4","text-right"],[3,"click"],[1,"print-table"],["mat-table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["MatTable",""],["matColumnDef","key"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","validation"],["matColumnDef","selectOptions"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"hidden",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["matInput","",3,"ngModel","name","required","ngModelChange"],["inputName","ngModel"],[3,"ngModel","required","name","ngModelChange"],["filedType","ngModel"],[3,"name","ngModel","required","ngModelChange"],["validation","ngModel"],["class","full-width",4,"ngIf"],["aria-label","Dropdown Option"],["dropDown",""],[3,"removed",4,"ngFor","ngForOf"],[3,"placeholder","formControl","matChipInputFor","matChipInputSeparatorKeyCodes","name","matChipInputTokenEnd"],["fruitInput",""],[3,"removed"],["matChipRemove",""],["mat-icon-button","","class","button","aria-label","delete icon",3,"click",4,"ngIf"],["mat-icon-button","","aria-label","delete icon",1,"button",3,"click"],[1,"fa","fa-trash","fontCssStyle"],["mat-header-row",""],["mat-row","",3,"hidden"]],template:function(t,i){if(1&t&&(e.YNc(0,rn,4,3,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4,5)(6,"div",6),e.YNc(7,sn,4,3,"div",7),e.YNc(8,ln,4,3,"div",7),e.qZA(),e._UZ(9,"div",8),e.TgZ(10,"div",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"input",12,13),e.NdJ("ngModelChange",function(r){return i.profile.name=r}),e.qZA()()(),e.TgZ(18,"div",10)(19,"mat-form-field",11)(20,"mat-label"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"mat-select",14,15),e.NdJ("ngModelChange",function(r){return i.profile.applicableFor=r}),e.TgZ(25,"mat-option",16),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"mat-option",16),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"mat-option",16),e._uU(32),e.ALo(33,"translate"),e.qZA()()()(),e.TgZ(34,"div",10)(35,"mat-form-field",11)(36,"mat-label"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"mat-select",17,18),e.NdJ("ngModelChange",function(r){return i.profile.usedIn=r}),e.TgZ(41,"mat-option",16),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"mat-option",16),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"mat-option",16),e._uU(48),e.ALo(49,"translate"),e.qZA()()()()(),e.TgZ(50,"div",9)(51,"div",19)(52,"mat-checkbox",20,21),e.NdJ("ngModelChange",function(r){return i.profile.isBatchNumberApplicable=r}),e._uU(54),e.ALo(55,"translate"),e.qZA()(),e.TgZ(56,"div",19)(57,"div",22)(58,"button",23),e.NdJ("click",function(){return i.openProfileTemplateDialog()}),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"button",24),e.NdJ("click",function(){return i.addNewTemplate()}),e._uU(62),e.ALo(63,"translate"),e.qZA()()()(),e.TgZ(64,"div")(65,"mat-accordion"),e.YNc(66,pn,32,26,"ng-container",25),e.qZA()(),e._UZ(67,"div",8),e.TgZ(68,"div",9),e._UZ(69,"div",26),e.TgZ(70,"div",27)(71,"button",28),e.NdJ("click",function(){return i.addNewUserInput()}),e.ALo(72,"translate"),e._UZ(73,"i",29),e.qZA()()(),e.YNc(74,kn,23,3,"div",30),e._UZ(75,"div",8),e.TgZ(76,"div",22)(77,"button",31),e.NdJ("click",function(){return i.gotoDashboard()}),e.ALo(78,"translate"),e._uU(79),e.ALo(80,"translate"),e.qZA(),e.TgZ(81,"button",24),e.NdJ("click",function(){return i.saveProfile()}),e._uU(82),e.ALo(83,"translate"),e.qZA()()()()()()),2&t){const a=e.MAs(5);e.Q6J("ngIf",i.loading),e.xp6(7),e.Q6J("ngIf",!i.isUpdate),e.xp6(1),e.Q6J("ngIf",i.isUpdate),e.xp6(6),e.Oqu(e.lcZ(15,34,"profile-component.Profile-Name")),e.xp6(2),e.Q6J("ngModel",i.profile.name),e.xp6(5),e.Oqu(e.lcZ(22,36,"profile-component.Applicable-For")),e.xp6(2),e.Q6J("ngModel",i.profile.applicableFor),e.xp6(2),e.Q6J("value","CP"),e.xp6(1),e.Oqu(e.lcZ(27,38,"profile-component.CP")),e.xp6(2),e.Q6J("value","IP"),e.xp6(1),e.Oqu(e.lcZ(30,40,"profile-component.IP")),e.xp6(2),e.Q6J("value","Both"),e.xp6(1),e.Oqu(e.lcZ(33,42,"profile-component.Both")),e.xp6(5),e.Oqu(e.lcZ(38,44,"profile-component.Used-In")),e.xp6(2),e.Q6J("ngModel",i.profile.usedIn),e.xp6(2),e.Q6J("value","Print"),e.xp6(1),e.Oqu(e.lcZ(43,46,"profile-component.Print")),e.xp6(2),e.Q6J("value","Reprint"),e.xp6(1),e.Oqu(e.lcZ(46,48,"profile-component.Reprint")),e.xp6(2),e.Q6J("value","Both"),e.xp6(1),e.Oqu(e.lcZ(49,50,"profile-component.Both")),e.xp6(4),e.Q6J("ngModel",i.profile.isBatchNumberApplicable),e.xp6(2),e.hij(" ",e.lcZ(55,52,"profile-component.Batch-ID-Applicable"),""),e.xp6(4),e.Q6J("disabled",!i.isAllTemplateSaved),e.xp6(1),e.hij(" ",e.lcZ(60,54,"profile-component.Add-Template-From-Existing")," "),e.xp6(2),e.Q6J("disabled",!i.isAllTemplateSaved),e.xp6(1),e.hij(" ",e.lcZ(63,56,"profile-component.Add-New-Template")," "),e.xp6(4),e.Q6J("ngForOf",i.profile.templates),e.xp6(5),e.s9C("matTooltip",e.lcZ(72,58,"profile-component.createNewUserInput")),e.xp6(3),e.Q6J("ngIf",i.profile.userInputFields),e.xp6(3),e.s9C("matTooltip",e.lcZ(78,60,"admin.Cancel")),e.xp6(2),e.hij(" ",e.lcZ(80,62,"admin.Cancel")," "),e.xp6(2),e.Q6J("disabled",a.invalid),e.xp6(1),e.hij(" ",e.lcZ(83,64,"profile-component.Save-Profile")," ")}},dependencies:[_.sg,_.O5,w.qn,w.HS,w.oH,w.qH,b.KE,b.hX,A.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,y.ey,G.gD,se.Hw,B.oG,P.gM,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.On,l.F,l.oH,tn,ge,be,en,Vt,C.X$],styles:[".admin-profile .print-table table{width:100%;margin-top:20px}.admin-profile .print-table table .mat-header-cell{font-size:16px;font-weight:500}.admin-profile .print-table table .mat-cell{font-size:16px}.admin-profile mat-expansion-panel:first-child{top:.75rem}\n"],encapsulation:2}),n})();const wn=["fruitInput"];function Un(n,o){1&n&&(e.TgZ(0,"div",24)(1,"div",25),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"printer-list-component.Loading")))}function Dn(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-mapping-component.Add-Mapping")))}function Nn(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-mapping-component.Update-Mapping")))}function On(n,o){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function Rn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-chip",27),e.NdJ("removed",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.removeSelectOptions(r))}),e._uU(1),e.TgZ(2,"button",28),e._UZ(3,"i",29),e.qZA()()}if(2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Sn(n,o){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}let Fn=(()=>{class n{constructor(t,i,a,r,s){this.data=t,this.dialogRef=i,this.profileService=a,this.toastr=r,this.i18nService=s,this.error={},this.separatorKeysCodes=[R.K5,R.OC],this.fruitCtrl=new l.NI,this.profileService.profileList.subscribe(d=>{if(d){const g=d.filter(x=>!x.isDocumentMapped);this.profileList=g,this.profileOptions=(0,u.of)(g)}}),this.profileService.documentList.subscribe(d=>{d&&(this.documentList=d,this.documentOptions=(0,u.of)(d))})}ngOnInit(){this.profileDocumentMapping=this.data.profileDocumentMapping,this.isUpdate=this.data.isUpdate,this.isUpdate&&(this.data.profileDocumentMapping.documents=new Set(this.data.profileDocumentMapping.documents))}addSelectOptions(t){this.fruitInput.nativeElement.value="",this.fruitCtrl.setValue(null)}removeSelectOptions(t){this.profileDocumentMapping.documents.delete(t)}selected(t){this.profileDocumentMapping.documents||(this.profileDocumentMapping.documents=new Set([])),this.profileDocumentMapping.documents.add(t.option.value),this.profileDocumentMapping.documents=new Set([...new Map(Array.from(this.profileDocumentMapping.documents).map(i=>[i.id,i])).values()]),this.fruitInput.nativeElement.value="",this.fruitCtrl.setValue(null)}saveMapping(){if(this.profileDocumentMapping&&!this.profileDocumentMapping.profile&&(this.error.profile="required"),this.profileDocumentMapping&&this.profileDocumentMapping.profile&&this.profileDocumentMapping.documents&&"string"!=typeof this.profileDocumentMapping.profile&&"string"!=typeof this.profileDocumentMapping.documents&&this.profileDocumentMapping.documents.size>0){const t={next:i=>{"success"===i.status&&(this.toastr.success(i.message),this.dialogRef.close({status:"success"}))},error:i=>{this.toastr.error(i.error.message),this.dialogRef.close({status:"error"})},complete:()=>{this.loading=!1}};this.loading=!1,this.profileService.addProfileMapping(this.profileDocumentMapping).subscribe(t)}else this.error.profile="required",this.error.documents="required",this.toastr.error(this.i18nService.translate.instant("profile-mapping-component.formError"))}filterProfileName(){this.profileList&&(this.profileOptions=(0,u.of)(this.profileList.filter(t=>{if("string"==typeof this.profileDocumentMapping.profile&&0===t.name.toLowerCase().indexOf(this.profileDocumentMapping.profile))return t})),this.profileOptions||(this.profileOptions=(0,u.of)([])))}displayName(t){return null==t?"":t.name}filterDocumentName(t){this.documentList&&(this.documentOptions=(0,u.of)(this.documentList.filter(i=>{if("string"==typeof t&&0===i.name.toLowerCase().indexOf(t.toLowerCase()))return i})),this.documentOptions||(this.documentOptions=(0,u.of)([])))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.WI),e.Y36(m.so),e.Y36(q),e.Y36(Z._W),e.Y36(I.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile-mapping"]],viewQuery:function(t,i){if(1&t&&e.Gf(wn,5),2&t){let a;e.iGM(a=e.CRH())&&(i.fruitInput=a.first)}},decls:42,vars:35,consts:[["class","loader-wrapper",4,"ngIf"],[1,"d-flex"],[4,"ngIf"],[3,"ngSubmit"],["form","ngForm"],[1,"mat-typography"],[1,"box-wrapper"],[1,"row"],[1,"col-md-6"],[1,"full-width"],["type","text","maxlength","70","matInput","","required","","name","profile",3,"ngModel","matAutocomplete","disabled","ngModelChange"],[3,"displayWith"],["profileAuto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["aria-label","Dropdown Option"],["dropDown",""],[3,"removed",4,"ngFor","ngForOf"],[3,"placeholder","formControl","matChipInputFor","matChipInputSeparatorKeyCodes","matAutocomplete","matChipInputTokenEnd","ngModelChange"],["fruitInput",""],[3,"optionSelected"],["auto","matAutocomplete"],["align","center"],["mat-button","","mat-dialog-close","","type","button",1,"button","mr-2"],["mat-button","","cdkFocusInitial","",1,"button",3,"type","disabled"],[1,"loader-wrapper"],[1,"loader"],[3,"value"],[3,"removed"],["matChipRemove",""],[1,"fa","fa-times","cancelChip"]],template:function(t,i){if(1&t&&(e.YNc(0,Un,4,3,"div",0),e.TgZ(1,"div",1)(2,"div"),e.YNc(3,Dn,3,3,"h3",2),e.YNc(4,Nn,3,3,"h3",2),e.qZA()(),e.TgZ(5,"form",3,4),e.NdJ("ngSubmit",function(){return i.saveMapping()}),e.TgZ(7,"mat-dialog-content",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",10),e.NdJ("ngModelChange",function(r){return i.profileDocumentMapping.profile=r})("ngModelChange",function(){return i.filterProfileName()}),e.qZA(),e.TgZ(16,"mat-autocomplete",11,12),e.YNc(18,On,2,2,"mat-option",13),e.ALo(19,"async"),e.qZA()()(),e.TgZ(20,"div",8)(21,"mat-form-field",9)(22,"mat-label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"mat-chip-list",14,15),e.YNc(27,Rn,4,1,"mat-chip",16),e.TgZ(28,"input",17,18),e.NdJ("matChipInputTokenEnd",function(r){return i.addSelectOptions(r)})("ngModelChange",function(r){return i.filterDocumentName(r)}),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"mat-autocomplete",19,20),e.NdJ("optionSelected",function(r){return i.selected(r)}),e.YNc(33,Sn,2,2,"mat-option",13),e.ALo(34,"async"),e.qZA()()()()()()(),e.TgZ(35,"mat-dialog-actions",21)(36,"button",22),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"button",23),e._uU(40),e.ALo(41,"translate"),e.qZA()()()),2&t){const a=e.MAs(6),r=e.MAs(17),s=e.MAs(26),d=e.MAs(32);e.Q6J("ngIf",i.loading),e.xp6(3),e.Q6J("ngIf",!i.isUpdate),e.xp6(1),e.Q6J("ngIf",i.isUpdate),e.xp6(9),e.Oqu(e.lcZ(14,21,"profile-mapping-component.Profile-Name")),e.xp6(2),e.Q6J("ngModel",i.profileDocumentMapping.profile)("matAutocomplete",r)("disabled",i.isUpdate),e.xp6(1),e.Q6J("displayWith",i.displayName),e.xp6(2),e.Q6J("ngForOf",e.lcZ(19,23,i.profileOptions)),e.xp6(5),e.Oqu(e.lcZ(24,25,"profile-mapping-component.Document-Type")),e.xp6(4),e.Q6J("ngForOf",i.profileDocumentMapping.documents),e.xp6(1),e.s9C("placeholder",e.lcZ(30,27,"profile-mapping-component.Document-Type")),e.Q6J("formControl",i.fruitCtrl)("matChipInputFor",s)("matChipInputSeparatorKeyCodes",i.separatorKeysCodes)("matAutocomplete",d),e.xp6(5),e.Q6J("ngForOf",e.lcZ(34,29,i.documentOptions)),e.xp6(4),e.Oqu(e.lcZ(38,31,"profile-mapping-component.Cancel")),e.xp6(2),e.Q6J("type","submit")("disabled",a.invalid),e.xp6(1),e.Oqu(e.lcZ(41,33,"profile-mapping-component.Save"))}},dependencies:[_.sg,_.O5,w.qn,w.HS,w.oH,w.qH,b.KE,b.hX,A.Nt,L.XC,L.ZL,y.ey,m.ZT,m.xY,m.H8,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.On,l.F,l.oH,_.Ov,C.X$],styles:[".mapping-list[_ngcontent-%COMP%]   .print-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin-top:20px}.mapping-list[_ngcontent-%COMP%]   .print-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.mapping-list[_ngcontent-%COMP%]   .print-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-size:16px}"]}),n})();function qn(n,o){1&n&&(e.TgZ(0,"div",27)(1,"div",28),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"printer-list-component.Loading")))}function Bn(n,o){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function En(n,o){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function Jn(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-mapping-list-component.Profile-Name")))}function Qn(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.profileName," ")}}function Hn(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"profile-mapping-list-component.Document-Type")," "))}function jn(n,o){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function Yn(n,o){if(1&n&&(e.TgZ(0,"td",31)(1,"ul"),e.YNc(2,jn,2,1,"li",32),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Q6J("ngForOf",t.documents)}}function Gn(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"profile-mapping-list-component.Actions")))}function $n(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",31)(1,"button",33),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openProfileMappingDialog(r))}),e._UZ(2,"i",34),e.qZA(),e.TgZ(3,"button",35),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteProfileMapping(r))}),e._UZ(4,"i",36),e.qZA()()}}function zn(n,o){1&n&&e._UZ(0,"tr",37)}function Wn(n,o){1&n&&e._UZ(0,"tr",38)}let Xn=(()=>{class n{constructor(t,i,a,r){this.dialog=t,this.profileService=i,this.toaster=a,this.i18nService=r,this.displayedColumns=["profileName","documentNames","actions"],this.profileDocumentFilter=Object.assign({},H)}ngOnInit(){this.getProfileDocumentList(),this.getDocumentList(),this.getProfileList()}getProfileDocumentList(){const t={next:i=>{this.profileDocumentList="success"===i.status?i.payload:[]},error:i=>{this.toaster.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.getProfileDocumentList(this.profileDocumentFilter).subscribe(t)}getDocumentList(){const t={next:i=>{"success"===i.status?(this.documentList=i.payload,this.profileService.documentList.next(i.payload),this.documentFilterList=(0,u.of)(i.payload)):(this.documentList=[],this.documentFilterList=(0,u.of)([]))},error:i=>{this.toaster.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.getDocumentList({}).subscribe(t)}getProfileList(){const t={next:i=>{"success"===i.status?(this.profileList=i.payload,this.profileService.profileList.next(i.payload),this.profileOptions=(0,u.of)(i.payload)):(this.profileList=[],this.profileOptions=(0,u.of)([]))},error:i=>{this.toaster.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.getProfileList({}).subscribe(t)}openProfileMappingDialog(t){const i={width:"1000px"};t?(t.profile={_id:t.profileId,name:t.profileName},i.data=Object.assign({isUpdate:!0,profileDocumentMapping:Object.assign({},t)})):i.data=Object.assign({isUpdate:!1,profileDocumentMapping:{}}),this.dialog.open(Fn,i).afterClosed().subscribe(r=>{"success"===r.status&&(this.profileDocumentFilter=Object.assign({},H),this.documentFilterList=(0,u.of)(this.documentList),this.getProfileList(),this.getProfileDocumentList())})}deleteProfileMapping(t){this.dialog.open(O,{data:{message:this.i18nService.translate.instant("admin.dialog-component.Are-you-sure-want-to-delete"),buttonText:{ok:this.i18nService.translate.instant("admin.dialog-component.Delete"),cancel:this.i18nService.translate.instant("admin.dialog-component.No")}}}).afterClosed().subscribe(a=>{if(a){const r={next:s=>{this.profileDocumentFilter=Object.assign({},H),this.documentFilterList=(0,u.of)(this.documentList),this.profileOptions=(0,u.of)(this.profileList),this.getProfileDocumentList(),this.toaster.success(s.message)},error:s=>{this.toaster.error(s.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.profileService.deleteProfileMapping(t).subscribe(r)}})}displayName(t){return null===t?"":t.name}clearFilter(){this.profileDocumentFilter=Object.assign({},H),this.documentFilterList=(0,u.of)(this.documentList),this.profileOptions=(0,u.of)(this.profileList),this.getProfileDocumentList()}filterProfileName(){this.profileList&&(this.profileOptions=(0,u.of)(this.profileList.filter(t=>{if("string"==typeof this.profileDocumentFilter.profileName&&0===t.name.toLowerCase().indexOf(this.profileDocumentFilter.profileName.toLowerCase()))return t})),this.profileOptions||(this.profileOptions=(0,u.of)([])))}filterDocumentName(){this.documentList&&(this.documentFilterList=(0,u.of)(this.documentList.filter(t=>{if("string"==typeof this.profileDocumentFilter.documentName&&0===t.name.toLowerCase().indexOf(this.profileDocumentFilter.documentName.toLowerCase()))return t})),this.documentFilterList||(this.documentFilterList=(0,u.of)([])))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.uw),e.Y36(q),e.Y36(Z._W),e.Y36(I.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-profile-mapping-list"]],decls:61,vars:39,consts:[["class","loader-wrapper",4,"ngIf"],[1,"main-container","mapping-list"],[1,"container-fluid"],[1,"box-wrapper"],[1,"d-flex"],[1,"col-md-12"],[1,"row"],[1,"col-md-4"],["mat-icon-button","","type","button","aria-label","add icon",1,"button",3,"matTooltip","click"],[1,"fa","fa-plus","fontCssStyle"],[1,"title-border"],[1,"full-width"],["type","text","maxlength","70","matInput","",3,"matAutocomplete","ngModel","ngModelChange"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["docAuto","matAutocomplete"],["mat-icon-button","","type","button",1,"button","mr-2",3,"matTooltip","click"],["mat-icon-button","","type","button",1,"button",3,"matTooltip","click"],[1,"print-table"],["mat-table","","table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","profileName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","documentNames"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],[1,"loader-wrapper"],[1,"loader"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[4,"ngFor","ngForOf"],["mat-icon-button","","type","button","aria-label","edit icon",1,"button","mr-2",3,"click"],[1,"fa","fa-pencil","fontCssStyle"],["mat-icon-button","","type","button","aria-label","delete icon",1,"button",3,"click"],[1,"fa","fa-trash","fontCssStyle"],["mat-header-row",""],["mat-row","",1,"example-element-row"]],template:function(t,i){if(1&t&&(e.YNc(0,qn,4,3,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e._UZ(11,"div",7),e.TgZ(12,"div",7)(13,"button",8),e.NdJ("click",function(){return i.openProfileMappingDialog()}),e.ALo(14,"translate"),e._UZ(15,"i",9),e.qZA()()(),e._UZ(16,"div",10),e.qZA()(),e.TgZ(17,"div",5)(18,"div",6)(19,"div",7)(20,"mat-form-field",11)(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"input",12),e.NdJ("ngModelChange",function(r){return i.profileDocumentFilter.profileName=r})("ngModelChange",function(){return i.filterProfileName()}),e.qZA(),e.TgZ(25,"mat-autocomplete",null,13),e.YNc(27,Bn,2,2,"mat-option",14),e.ALo(28,"async"),e.qZA()()(),e.TgZ(29,"div",7)(30,"mat-form-field",11)(31,"mat-label"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"input",12),e.NdJ("ngModelChange",function(r){return i.profileDocumentFilter.documentName=r})("ngModelChange",function(){return i.filterDocumentName()}),e.qZA(),e.TgZ(35,"mat-autocomplete",null,15),e.YNc(37,En,2,2,"mat-option",14),e.ALo(38,"async"),e.qZA()()(),e.TgZ(39,"div",7)(40,"button",16),e.NdJ("click",function(){return i.getProfileDocumentList()}),e.ALo(41,"translate"),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"button",17),e.NdJ("click",function(){return i.clearFilter()}),e.ALo(45,"translate"),e._uU(46),e.ALo(47,"translate"),e.qZA()()()(),e.TgZ(48,"div",18)(49,"table",19),e.ynx(50,20),e.YNc(51,Jn,3,3,"th",21),e.YNc(52,Qn,2,1,"td",22),e.BQk(),e.ynx(53,23),e.YNc(54,Hn,3,3,"th",21),e.YNc(55,Yn,3,1,"td",22),e.BQk(),e.ynx(56,24),e.YNc(57,Gn,3,3,"th",21),e.YNc(58,$n,5,0,"td",22),e.BQk(),e.YNc(59,zn,1,0,"tr",25),e.YNc(60,Wn,1,0,"tr",26),e.qZA()()()()()),2&t){const a=e.MAs(26),r=e.MAs(36);e.Q6J("ngIf",i.loading),e.xp6(9),e.Oqu(e.lcZ(10,19,"profile-mapping-list-component.Profile-Mapping-List")),e.xp6(4),e.s9C("matTooltip",e.lcZ(14,21,"profile-mapping-list-component.Add-Mapping")),e.xp6(9),e.hij("",e.lcZ(23,23,"profile-mapping-list-component.Profile-Name")," "),e.xp6(2),e.Q6J("matAutocomplete",a)("ngModel",i.profileDocumentFilter.profileName),e.xp6(3),e.Q6J("ngForOf",e.lcZ(28,25,i.profileOptions)),e.xp6(5),e.hij("",e.lcZ(33,27,"profile-mapping-list-component.Document-Type")," "),e.xp6(2),e.Q6J("matAutocomplete",r)("ngModel",i.profileDocumentFilter.documentName),e.xp6(3),e.Q6J("ngForOf",e.lcZ(38,29,i.documentFilterList)),e.xp6(3),e.s9C("matTooltip",e.lcZ(41,31,"profile-mapping-list-component.Apply-Filter")),e.xp6(2),e.hij(" ",e.lcZ(43,33,"profile-mapping-list-component.Apply-Filter")," "),e.xp6(2),e.MGl("matTooltip"," ",e.lcZ(45,35,"profile-mapping-list-component.Clear-Filter"),""),e.xp6(2),e.hij(" ",e.lcZ(47,37,"profile-mapping-list-component.Clear")," "),e.xp6(3),e.Q6J("dataSource",i.profileDocumentList),e.xp6(10),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns)}},dependencies:[_.sg,_.O5,b.KE,b.hX,A.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,L.XC,L.ZL,y.ey,P.gM,l.Fj,l.JJ,l.nD,l.On,_.Ov,C.X$],styles:[".mapping-list .print-table table{width:100%;margin-top:20px}.mapping-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.mapping-list .print-table table .mat-cell{font-size:16px}\n"],encapsulation:2}),n})(),ve=(()=>{class n{constructor(t){this.httpService=t}getReasonList(t){return this.httpService.post("getReasonList",t)}deleteReason(t){return this.httpService.post("deleteReason",t)}addReason(t){return this.httpService.post(t._id?"updateReason":"addReason",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kn(n,o){1&n&&(e.TgZ(0,"div",17)(1,"div",18),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"reasons-component.Loading")))}function Vn(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"reasons-component.Add-New-Reasons")))}function ei(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"reasons-component.Update-Reasons")))}function ti(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"reasons-component.Reason-Name-is-required")," "))}function ni(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"reasons-component.Please-Select-at-Least-One-Option")," "))}let ii=(()=>{class n{constructor(t,i,a,r,s){this.data=t,this.dialogRef=i,this.toastr=a,this.i18nService=r,this.reasonService=s,this.reason={},this.applicableFor=Object.assign({},F),this.error={}}ngOnInit(){this.data&&this.data.reason?(this.reason=Object.assign({},this.data.reason),this.isUpdate=this.data.isUpdate,this.applicableFor=Object.assign({print:!!this.data.reason.print&&this.data.reason.print,reprint:!!this.data.reason.reprint&&this.data.reason.reprint,recall:!!this.data.reason.recall&&this.data.reason.recall,reconcile:!!this.data.reason.reconcile&&this.data.reason.reconcile})):this.reason={name:""}}validateApplicableFor(){let t=!1;return this.reason.print||this.reason.reprint||this.reason.recall||this.reason.reconcile?t=!0:this.error={name:"",applicableFor:"required"},t}addReason(){if(!this.reason||void 0!==this.reason.name&&""!==this.reason.name){if(this.validateApplicableFor()){this.error={name:"",applicableFor:""};const t={next:i=>{"success"===i.status?(this.toastr.success(i.message),this.dialogRef.close({status:"success"})):(this.toastr.error(i.error.message),this.dialogRef.close({status:"error"}))},error:i=>{this.toastr.error(i.error.message),this.dialogRef.close({status:"error"})},complete:()=>{this.loading=!1}};this.loading=!0,this.reasonService.addReason(this.reason).subscribe(t)}}else this.error={name:"required",applicableFor:""}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.WI),e.Y36(m.so),e.Y36(Z._W),e.Y36(I.D),e.Y36(ve))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reasons"]],decls:39,vars:36,consts:[["class","loader-wrapper",4,"ngIf"],[1,"reason-popup",3,"ngSubmit"],["form","ngForm"],[1,"d-flex"],[4,"ngIf"],[1,"mat-typography"],[1,"box-wrapper"],[1,"full-width"],["matInput","","type","text","maxlength","70","required","","name","reasonText",3,"ngModel","ngModelChange"],["reasonText","ngModel"],["name","print",3,"ngModel","ngModelChange"],["name","reprint",3,"ngModel","ngModelChange"],["name","recall",3,"ngModel","ngModelChange"],["name","reconcile",3,"ngModel","ngModelChange"],["align","center"],["mat-button","","mat-dialog-close","","type","button",1,"button","mr-1"],["mat-button","","cdkFocusInitial","",1,"button","ml-1",3,"type","disabled"],[1,"loader-wrapper"],[1,"loader"]],template:function(t,i){if(1&t&&(e.YNc(0,Kn,4,3,"div",0),e.TgZ(1,"form",1,2),e.NdJ("ngSubmit",function(){return i.addReason()}),e.TgZ(3,"div",3)(4,"div"),e.YNc(5,Vn,3,3,"h3",4),e.YNc(6,ei,3,3,"h3",4),e.qZA()(),e.TgZ(7,"mat-dialog-content",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",8,9),e.NdJ("ngModelChange",function(r){return i.reason.name=r}),e.qZA(),e.YNc(15,ti,3,3,"mat-error",4),e.qZA(),e.TgZ(16,"h5"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"mat-checkbox",10),e.NdJ("ngModelChange",function(r){return i.reason.print=r}),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"mat-checkbox",11),e.NdJ("ngModelChange",function(r){return i.reason.reprint=r}),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"mat-checkbox",12),e.NdJ("ngModelChange",function(r){return i.reason.recall=r}),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"mat-checkbox",13),e.NdJ("ngModelChange",function(r){return i.reason.reconcile=r}),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.YNc(31,ni,3,3,"mat-error",4),e.qZA()(),e.TgZ(32,"mat-dialog-actions",14)(33,"button",15),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"button",16),e._uU(37),e.ALo(38,"translate"),e.qZA()()()),2&t){const a=e.MAs(2),r=e.MAs(14);e.Q6J("ngIf",i.loading),e.xp6(5),e.Q6J("ngIf",!i.isUpdate),e.xp6(1),e.Q6J("ngIf",i.isUpdate),e.xp6(5),e.Oqu(e.lcZ(12,20,"reasons-component.Reason-Text")),e.xp6(2),e.Q6J("ngModel",i.reason.name),e.xp6(2),e.Q6J("ngIf",r.errors),e.xp6(2),e.hij("",e.lcZ(18,22,"reasons-component.Applicable-For"),":"),e.xp6(2),e.Q6J("ngModel",i.reason.print),e.xp6(1),e.hij(" ",e.lcZ(21,24,"reasons-component.Print")," "),e.xp6(2),e.Q6J("ngModel",i.reason.reprint),e.xp6(1),e.hij(" ",e.lcZ(24,26,"reasons-component.Reprint")," "),e.xp6(2),e.Q6J("ngModel",i.reason.recall),e.xp6(1),e.hij(" ",e.lcZ(27,28,"reasons-component.Recall")," "),e.xp6(2),e.Q6J("ngModel",i.reason.reconcile),e.xp6(1),e.hij(" ",e.lcZ(30,30,"reasons-component.Reconcile")," "),e.xp6(2),e.Q6J("ngIf","required"===i.error.applicableFor),e.xp6(3),e.Oqu(e.lcZ(35,32,"reasons-component.Cancel")),e.xp6(2),e.Q6J("type","submit")("disabled",a.invalid),e.xp6(1),e.Oqu(e.lcZ(38,34,"reasons-component.Save"))}},dependencies:[_.O5,b.TO,b.KE,b.hX,A.Nt,m.ZT,m.xY,m.H8,B.oG,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.On,l.F,C.X$],styles:[".reasons-list .print-table table{width:100%;margin-top:20px}.reasons-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.reasons-list .print-table table .mat-cell{font-size:16px}.reasons-list .mat-checkbox~.mat-checkbox{margin-left:16px}.reason-popup .mat-checkbox~.mat-checkbox{margin-left:16px}\n"],encapsulation:2}),n})();function ai(n,o){1&n&&(e.TgZ(0,"div",28)(1,"div",29),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"reasons-list-component.Loading")))}function oi(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"reasons-list-component.Reason-Name")))}function ri(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function si(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"reasons-list-component.Available-For")))}function li(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.HOy(" ",t.print?"Print,":""," ",t.reprint?"Reprint,":""," ",t.recall?"Recall,":""," ",t.reconcile?"Reconcile,":"","")}}function ci(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"reasons-list-component.Actions")))}function di(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",31)(1,"button",32),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.updateReasonDialog(r))}),e._UZ(2,"i",33),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteReason(r))}),e._UZ(4,"i",35),e.qZA()()}}function pi(n,o){1&n&&e._UZ(0,"tr",36)}function mi(n,o){1&n&&e._UZ(0,"tr",37)}function ui(n,o){1&n&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"reasons-list-component.No-records-found")," "))}let fi=(()=>{class n{constructor(t,i,a,r){this.dialog=t,this.i18nService=i,this.toastr=a,this.reasonService=r,this.displayedColumns=["reasonText","reasons","actions"],this.applicableFor=Object.assign({},F)}ngOnInit(){this.reasonList=[],this.getReasonList()}getReasonList(){const t={next:i=>{"success"===i.status?this.reasonList=i.payload:this.toastr.error(i.error.message)},error:i=>{this.toastr.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.reasonService.getReasonList(this.applicableFor).subscribe(t)}updateReasonDialog(t){const i={width:"600px"};i.data=Object.assign(t?{reason:t,isUpdate:!0}:{reason:void 0,isUpdate:!1}),this.dialog.open(ii,i).afterClosed().subscribe(r=>{r&&"success"===r.status&&(this.applicableFor=Object.assign({},F),this.getReasonList())})}deleteReason(t){this.dialog.open(O,{data:{message:this.i18nService.translate.instant("admin.dialog-component.Are-you-sure-want-to-delete"),buttonText:{ok:this.i18nService.translate.instant("admin.dialog-component.Delete"),cancel:this.i18nService.translate.instant("admin.dialog-component.No")}}}).afterClosed().subscribe(a=>{if(a){const r={next:s=>{"success"===s.status?(this.toastr.success(s.message),this.applicableFor=Object.assign({},F),this.getReasonList()):this.toastr.error(s.error.message)},error:s=>{this.toastr.error(s.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.reasonService.deleteReason({_id:t._id}).subscribe(r)}})}clearFilter(){this.applicableFor=Object.assign({},F),this.getReasonList()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.uw),e.Y36(I.D),e.Y36(Z._W),e.Y36(ve))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-reasons-list"]],decls:56,vars:40,consts:[["class","loader-wrapper",4,"ngIf"],[1,"main-container","reasons-list"],[1,"container-fluid"],[1,"box-wrapper"],[1,"d-flex"],[1,"col-md-12"],[1,"row"],[1,"col-md-4"],["mat-icon-button","","type","button","aria-label","Add icon",1,"button",3,"matTooltip","click"],[1,"fa","fa-plus","fontCssStyle"],[1,"title-border"],[1,"col-lg-12"],["matInput","","name","print",3,"ngModel","ngModelChange"],["matInput","","name","reprint",3,"ngModel","ngModelChange"],["matInput","","name","recall",3,"ngModel","ngModelChange"],["matInput","","name","reconcile",3,"ngModel","ngModelChange"],["mat-icon-button","","type","button",1,"button","mr-2",3,"matTooltip","click"],["mat-icon-button","","type","button",1,"button",3,"matTooltip","click"],[1,"print-table"],["mat-table","","table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","reasonText"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","reasons"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],["class","no-record",4,"ngIf"],[1,"loader-wrapper"],[1,"loader"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","edit icon",1,"button",3,"click"],[1,"fa","fa-pencil","fontCssStyle"],["mat-icon-button","","type","button","aria-label","delete icon",1,"button",3,"click"],[1,"fa","fa-trash","fontCssStyle"],["mat-header-row",""],["mat-row","",1,"example-element-row"],[1,"no-record"]],template:function(t,i){1&t&&(e.YNc(0,ai,4,3,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e._UZ(11,"div",7),e.TgZ(12,"div",7)(13,"button",8),e.NdJ("click",function(){return i.updateReasonDialog()}),e.ALo(14,"translate"),e._UZ(15,"i",9),e.qZA()()(),e._UZ(16,"div",10),e.qZA()(),e.TgZ(17,"div",11)(18,"div",6)(19,"div",7)(20,"mat-checkbox",12),e.NdJ("ngModelChange",function(r){return i.applicableFor.print=r}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"mat-checkbox",13),e.NdJ("ngModelChange",function(r){return i.applicableFor.reprint=r}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"mat-checkbox",14),e.NdJ("ngModelChange",function(r){return i.applicableFor.recall=r}),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"mat-checkbox",15),e.NdJ("ngModelChange",function(r){return i.applicableFor.reconcile=r}),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e._UZ(32,"div",7),e.TgZ(33,"div",7)(34,"button",16),e.NdJ("click",function(){return i.getReasonList()}),e.ALo(35,"translate"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"button",17),e.NdJ("click",function(){return i.clearFilter()}),e.ALo(39,"translate"),e._uU(40),e.ALo(41,"translate"),e.qZA()()()(),e.TgZ(42,"div",18)(43,"table",19),e.ynx(44,20),e.YNc(45,oi,3,3,"th",21),e.YNc(46,ri,2,1,"td",22),e.BQk(),e.ynx(47,23),e.YNc(48,si,3,3,"th",21),e.YNc(49,li,2,4,"td",22),e.BQk(),e.ynx(50,24),e.YNc(51,ci,3,3,"th",21),e.YNc(52,di,5,0,"td",22),e.BQk(),e.YNc(53,pi,1,0,"tr",25),e.YNc(54,mi,1,0,"tr",26),e.qZA(),e.YNc(55,ui,3,3,"div",27),e.qZA()()()()),2&t&&(e.Q6J("ngIf",i.loading),e.xp6(9),e.Oqu(e.lcZ(10,20,"reasons-list-component.Reasons-List")),e.xp6(4),e.s9C("matTooltip",e.lcZ(14,22,"reasons-list-component.Create-New-Reason")),e.xp6(7),e.Q6J("ngModel",i.applicableFor.print),e.xp6(1),e.hij(" ",e.lcZ(22,24,"reasons-list-component.Print")," "),e.xp6(2),e.Q6J("ngModel",i.applicableFor.reprint),e.xp6(1),e.hij(" ",e.lcZ(25,26,"reasons-list-component.Reprint")," "),e.xp6(2),e.Q6J("ngModel",i.applicableFor.recall),e.xp6(1),e.hij(" ",e.lcZ(28,28,"reasons-list-component.Recall")," "),e.xp6(2),e.Q6J("ngModel",i.applicableFor.reconcile),e.xp6(1),e.hij(" ",e.lcZ(31,30,"reasons-list-component.Reconcile")," "),e.xp6(4),e.s9C("matTooltip",e.lcZ(35,32,"reasons-list-component.Apply-Filter")),e.xp6(2),e.hij(" ",e.lcZ(37,34,"reasons-list-component.Apply-Filter")," "),e.xp6(2),e.s9C("matTooltip",e.lcZ(39,36,"reasons-list-component.Clear")),e.xp6(2),e.hij(" ",e.lcZ(41,38,"reasons-list-component.Clear")," "),e.xp6(3),e.Q6J("dataSource",i.reasonList),e.xp6(10),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===i.reasonList.length))},dependencies:[_.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,B.oG,P.gM,l.JJ,l.On,C.X$],styles:[".reasons-list .print-table table{width:100%;margin-top:20px}.reasons-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.reasons-list .print-table table .mat-cell{font-size:16px}.reasons-list .mat-checkbox~.mat-checkbox{margin-left:16px}.reason-popup .mat-checkbox~.mat-checkbox{margin-left:16px}\n"],encapsulation:2}),n})();function _i(n,o){1&n&&(e.TgZ(0,"div",13)(1,"div",14),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"internal-user-list-component.Loading")))}function hi(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"external-user-component.Add-New-External-User")))}function gi(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"external-user-component.Update-External-User")))}function bi(n,o){if(1&n&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.label," ")}}let vi=(()=>{class n{constructor(t,i,a,r,s){this.data=t,this.dialogRef=i,this.toastr=a,this.userService=r,this.i18nService=s,this.userService.externalUserList.subscribe(d=>{d&&d.length>0&&(this.externalUserMaster=d,this.filterUserList=(0,u.of)(d))})}ngOnInit(){this.data&&(this.isUpdate=this.data.isUpdate,this.user=this.data.user?this.data.user:{})}displayName(t){return t&&t.label?t.label:""}filterRecipientsList(){this.externalUserMaster&&(this.filterUserList=(0,u.of)(this.externalUserMaster.filter(t=>{if("string"==typeof this.user&&0===t.value.toLowerCase().indexOf(this.user.toLowerCase()))return t})),this.filterUserList||(this.filterUserList=(0,u.of)([])))}addExternalUser(){if("string"==typeof this.user||""===this.user.userName)this.error.userName="required";else{const t={next:i=>{"success"===i.status?(this.toastr.success(i.message),this.dialogRef.close({status:"success"})):(this.dialogRef.close({status:"error"}),this.toastr.error(i.error.message))},error:i=>{this.dialogRef.close({status:"error"}),this.toastr.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.userService.addExternalUser(this.user).subscribe(t)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.WI),e.Y36(m.so),e.Y36(Z._W),e.Y36(D),e.Y36(I.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-external-user"]],decls:23,vars:18,consts:[["class","loader-wrapper",4,"ngIf"],[1,"d-flex"],[4,"ngIf"],[1,"mat-typography"],[1,"box-wrapper"],[1,"full-width"],["type","text","maxlength","70","matInput","","required","",3,"matAutocomplete","ngModel","ngModelChange"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["align","center"],["mat-button","","mat-dialog-close","","type","button",1,"button","mr-2"],["mat-button","","type","button","cdkFocusInitial","",1,"button",3,"click"],[1,"loader-wrapper"],[1,"loader"],[3,"value"]],template:function(t,i){if(1&t&&(e.YNc(0,_i,4,3,"div",0),e.TgZ(1,"div",1)(2,"div"),e.YNc(3,hi,3,3,"h3",2),e.YNc(4,gi,3,3,"h3",2),e.qZA()(),e.TgZ(5,"mat-dialog-content",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"input",6),e.NdJ("ngModelChange",function(r){return i.user=r})("ngModelChange",function(){return i.filterRecipientsList()}),e.qZA(),e.TgZ(12,"mat-autocomplete",7,8),e.YNc(14,bi,2,2,"mat-option",9),e.ALo(15,"async"),e.qZA()()()(),e.TgZ(16,"mat-dialog-actions",10)(17,"button",11),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",12),e.NdJ("click",function(){return i.addExternalUser()}),e._uU(21),e.ALo(22,"translate"),e.qZA()()),2&t){const a=e.MAs(13);e.Q6J("ngIf",i.loading),e.xp6(3),e.Q6J("ngIf",!i.isUpdate),e.xp6(1),e.Q6J("ngIf",i.isUpdate),e.xp6(5),e.hij("",e.lcZ(10,10,"external-user-component.External-User")," "),e.xp6(2),e.Q6J("matAutocomplete",a)("ngModel",i.user),e.xp6(1),e.Q6J("displayWith",i.displayName),e.xp6(2),e.Q6J("ngForOf",e.lcZ(15,12,i.filterUserList)),e.xp6(4),e.Oqu(e.lcZ(19,14,"external-user-component.Cancel")),e.xp6(3),e.Oqu(e.lcZ(22,16,"external-user-component.Save"))}},dependencies:[_.sg,_.O5,b.KE,b.hX,A.Nt,L.XC,L.ZL,y.ey,m.ZT,m.xY,m.H8,l.Fj,l.JJ,l.Q7,l.nD,l.On,_.Ov,C.X$],styles:[".external-user-list .print-table table{width:100%;margin-top:20px}.external-user-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.external-user-list .print-table table .mat-cell{font-size:16px}\n"],encapsulation:2}),n})();function xi(n,o){1&n&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"internal-user-list-component.Loading")))}function Ci(n,o){1&n&&(e.TgZ(0,"th",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"external-user-list-component.First-Name")))}function Ti(n,o){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.firstName," ")}}function Mi(n,o){1&n&&(e.TgZ(0,"th",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"external-user-list-component.Last-Name")))}function yi(n,o){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.lastName," ")}}function Ai(n,o){1&n&&(e.TgZ(0,"th",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"external-user-list-component.User-Name")))}function Zi(n,o){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.userName," ")}}function Li(n,o){1&n&&(e.TgZ(0,"th",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"external-user-list-component.Email-ID")))}function Ii(n,o){if(1&n&&(e.TgZ(0,"td",28),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function ki(n,o){1&n&&(e.TgZ(0,"th",27),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"external-user-list-component.Actions")))}function Pi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",28)(1,"button",29),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteExternalUser(r))}),e._UZ(2,"i",30),e.qZA()()}}function wi(n,o){1&n&&e._UZ(0,"tr",31)}function Ui(n,o){1&n&&e._UZ(0,"tr",32)}let Di=(()=>{class n{constructor(t,i,a,r){this.dialog=t,this.userService=i,this.toaster=a,this.i18nService=r,this.displayedColumns=["firstName","lastName","userName","email","actions"],this.filterUser=Object.assign({},j)}ngOnInit(){this.getUserList(),this.getMcUserList()}displayName(t){return t?t.label:""}openExternalUserDialog(t){const i={};i.data=t?{user:Object.assign({},t),isUpdate:!0}:{user:void 0,isUpdate:!1},this.dialog.open(vi,i).afterClosed().subscribe(r=>{"success"===r.status&&(this.filterUser=Object.assign({},j),this.getUserList())})}deleteExternalUser(t){this.dialog.open(O,{data:{message:this.i18nService.translate.instant("admin.dialog-component.Are-you-sure-want-to-delete"),buttonText:{ok:this.i18nService.translate.instant("admin.dialog-component.Delete"),cancel:this.i18nService.translate.instant("admin.dialog-component.No")}}}).afterClosed().subscribe(a=>{if(a){const r={next:s=>{"success"===s.status&&(this.filterUser=Object.assign({},j),this.getUserList(),this.toaster.success(s.message))},error:s=>{this.toaster.error(s.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.userService.deleteExternalUser(t).subscribe(r)}})}getUserList(){const t={next:i=>{this.userList="success"===i.status?i.payload:[]},error:i=>{this.toaster.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.userService.getExternalUsers(this.filterUser).subscribe(t)}getMcUserList(){const t={next:i=>{"success"===i.status?(this.mcUserList=i.payload,this.userService.externalUserList.next(i.payload),this.filterUserList=(0,u.of)(i.payload)):this.mcUserList=[]},error:i=>{this.toaster.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.userService.getAllExternalUserList().subscribe(t)}clearFilter(){this.filterUser=Object.assign({},j),this.getUserList()}filterRecipientsList(){this.mcUserList&&(this.filterUserList=(0,u.of)(this.mcUserList.filter(t=>{if("string"==typeof this.filterUser.name&&0===t.value.toLowerCase().indexOf(this.filterUser.name.toLowerCase()))return t})),this.filterUserList||(this.filterUserList=(0,u.of)([])))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.uw),e.Y36(D),e.Y36(Z._W),e.Y36(I.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-external-user-list"]],decls:54,vars:27,consts:[["class","loader-wrapper",4,"ngIf"],[1,"main-container","external-user-list"],[1,"container-fluid"],[1,"box-wrapper"],[1,"d-flex"],[1,"col-md-12"],[1,"row"],[1,"col-md-4"],["mat-icon-button","","aria-label","add icon",1,"button",3,"matTooltip","click"],[1,"fa","fa-plus","fontCssStyle"],[1,"title-border"],[1,"full-width"],["type","text","maxlength","70","matInput","",3,"ngModel","ngModelChange"],["mat-icon-button","","type","button",1,"button",3,"matTooltip","click"],[1,"print-table"],["mat-table","","table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","firstName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","userName"],["matColumnDef","email"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],[1,"loader-wrapper"],[1,"loader"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","delete icon",1,"button",3,"click"],[1,"fa","fa-trash","fontCssStyle"],["mat-header-row",""],["mat-row","",1,"example-element-row"]],template:function(t,i){1&t&&(e.YNc(0,xi,4,3,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e._UZ(11,"div",7),e.TgZ(12,"div",7)(13,"button",8),e.NdJ("click",function(){return i.openExternalUserDialog()}),e.ALo(14,"translate"),e._UZ(15,"i",9),e.qZA()()(),e._UZ(16,"div",10),e.qZA()(),e.TgZ(17,"div",5)(18,"div",6)(19,"div",7)(20,"mat-form-field",11)(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"input",12),e.NdJ("ngModelChange",function(r){return i.filterUser.name=r}),e.qZA()()(),e._UZ(25,"div",7),e.TgZ(26,"div",7)(27,"button",13),e.NdJ("click",function(){return i.getUserList()}),e.ALo(28,"translate"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"button",13),e.NdJ("click",function(){return i.clearFilter()}),e.ALo(32,"translate"),e._uU(33),e.ALo(34,"translate"),e.qZA()()()(),e.TgZ(35,"div",14)(36,"table",15),e.ynx(37,16),e.YNc(38,Ci,3,3,"th",17),e.YNc(39,Ti,2,1,"td",18),e.BQk(),e.ynx(40,19),e.YNc(41,Mi,3,3,"th",17),e.YNc(42,yi,2,1,"td",18),e.BQk(),e.ynx(43,20),e.YNc(44,Ai,3,3,"th",17),e.YNc(45,Zi,2,1,"td",18),e.BQk(),e.ynx(46,21),e.YNc(47,Li,3,3,"th",17),e.YNc(48,Ii,2,1,"td",18),e.BQk(),e.ynx(49,22),e.YNc(50,ki,3,3,"th",17),e.YNc(51,Pi,3,0,"td",18),e.BQk(),e.YNc(52,wi,1,0,"tr",23),e.YNc(53,Ui,1,0,"tr",24),e.qZA()()()()()),2&t&&(e.Q6J("ngIf",i.loading),e.xp6(9),e.Oqu(e.lcZ(10,13,"external-user-list-component.External-User-List")),e.xp6(4),e.s9C("matTooltip",e.lcZ(14,15,"external-user-list-component.Create-External-User")),e.xp6(9),e.hij("",e.lcZ(23,17,"external-user-list-component.User-Name")," "),e.xp6(2),e.Q6J("ngModel",i.filterUser.name),e.xp6(3),e.s9C("matTooltip",e.lcZ(28,19,"external-user-list-component.Apply-Filter")),e.xp6(2),e.hij(" ",e.lcZ(30,21,"external-user-list-component.Apply-Filter")," "),e.xp6(2),e.MGl("matTooltip"," ",e.lcZ(32,23,"external-user-list-component.Clear-Filter"),""),e.xp6(2),e.hij(" ",e.lcZ(34,25,"external-user-list-component.Clear")," "),e.xp6(3),e.Q6J("dataSource",i.userList),e.xp6(16),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[_.O5,b.KE,b.hX,A.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,P.gM,l.Fj,l.JJ,l.nD,l.On,C.X$],styles:[".external-user-list .print-table table{width:100%;margin-top:20px}.external-user-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.external-user-list .print-table table .mat-cell{font-size:16px}\n"],encapsulation:2}),n})();function Ni(n,o){1&n&&(e.TgZ(0,"div",27)(1,"div",28),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"admin.internalUser.Loading")))}function Oi(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"admin.internalUser.Add-New-Internal-User")))}function Ri(n,o){1&n&&(e.TgZ(0,"h3"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"admin.internalUser.Update-Internal-User")))}function Si(n,o){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.label," ")}}function Fi(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"admin.internalUser.Internal-User-Name-is-required")," "))}function qi(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"admin.internalUser.Internal-User-Role-is-required")," "))}let Bi=(()=>{class n{constructor(t,i,a,r,s){this.data=t,this.dialogRef=i,this.toastr=a,this.userService=r,this.i18nService=s,this.error={},this.userService.userList.subscribe(d=>{d&&d.length>0&&(this.recipientsMaster=d,this.recipients=(0,u.of)(d))})}ngOnInit(){this.data&&(this.isUpdate=this.data.isUpdate,this.data.userInfo?(this.user=Object.assign({userName:this.data.userInfo.userName,label:this.data.userInfo.formattedName,_id:this.data.userInfo._id}),this.roles=Object.assign({},this.data.userInfo.roles)):(this.user={},this.roles={}))}filterRecipientsList(){this.recipientsMaster&&(this.recipients=(0,u.of)(this.recipientsMaster.filter(t=>{if("string"==typeof this.user&&0===t.value.toLowerCase().indexOf(this.user.toLowerCase()))return t})),this.recipients||(this.recipients=(0,u.of)([])))}isRoleAssigned(){let t=!1;return this.error.userName="",Object.keys(this.roles).map(i=>{!0===this.roles[i]&&(t=!0,this.error.roles="")}),t||(this.error.roles="required"),t}displayName(t){return t?t.label:""}addUser(){if("string"==typeof this.user||""===this.user.userName)this.error.userName="required";else if(this.isRoleAssigned()){this.error={userName:"",roles:""};const t={next:a=>{"success"===a.status?(this.toastr.success(a.message),this.dialogRef.close({status:"success"})):(this.dialogRef.close({status:"error"}),this.toastr.error(a.error.message))},error:a=>{this.dialogRef.close({status:"error"}),this.toastr.error(a.error.message)},complete:()=>{this.loading=!1}};this.loading=!0;const i=this.user;i.roles=this.roles,this.userService.addInternalUser(i).subscribe(t)}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.WI),e.Y36(m.so),e.Y36(Z._W),e.Y36(D),e.Y36(I.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-internal-user"]],decls:68,vars:62,consts:[["class","loader-wrapper",4,"ngIf"],[1,"internal-user-popup",3,"ngSubmit"],["form","ngForm"],[1,"d-flex"],[4,"ngIf"],[1,"mat-typography"],[1,"box-wrapper"],[1,"full-width"],["maxlength","70","type","text","matInput","","required","","name","userName",3,"disabled","ngModel","matAutocomplete","ngModelChange"],["userName","ngModel"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-6",2,"margin-bottom","10px"],["name","imp_issued_print_coordinator",3,"ngModel","ngModelChange"],["name","imp_controlled_print_coordinator",3,"ngModel","ngModelChange"],["name","imp_issued_print_reprint",3,"ngModel","ngModelChange"],["name","imp_controlled_print_reprint",3,"ngModel","ngModelChange"],["name","imp_issued_print_only",3,"ngModel","ngModelChange"],["name","imp_controlled_print_only",3,"ngModel","ngModelChange"],["name","imp_reconciliation",3,"ngModel","ngModelChange"],["name","imp_admin",3,"ngModel","ngModelChange"],["name","imp_recipient",3,"ngModel","ngModelChange"],["align","center"],["mat-button","","mat-dialog-close","","type","button",1,"button","mr-2"],["mat-button","","cdkFocusInitial","",1,"button",3,"type","disabled"],[1,"loader-wrapper"],[1,"loader"],[3,"value"]],template:function(t,i){if(1&t&&(e.YNc(0,Ni,4,3,"div",0),e.TgZ(1,"form",1,2),e.NdJ("ngSubmit",function(){return i.addUser()}),e.TgZ(3,"div",3)(4,"div"),e.YNc(5,Oi,3,3,"h3",4),e.YNc(6,Ri,3,3,"h3",4),e.qZA()(),e.TgZ(7,"mat-dialog-content",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",8,9),e.NdJ("ngModelChange",function(r){return i.user=r})("ngModelChange",function(){return i.filterRecipientsList()}),e.qZA(),e.TgZ(15,"mat-autocomplete",10,11),e.YNc(17,Si,2,2,"mat-option",12),e.ALo(18,"async"),e.qZA()(),e.YNc(19,Fi,3,3,"mat-error",4),e.TgZ(20,"mat-label"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",13)(24,"div",14)(25,"mat-checkbox",15),e.NdJ("ngModelChange",function(r){return i.roles.imp_issued_print_coordinator=r}),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",14)(29,"mat-checkbox",16),e.NdJ("ngModelChange",function(r){return i.roles.imp_controlled_print_coordinator=r}),e._uU(30),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",14)(33,"mat-checkbox",17),e.NdJ("ngModelChange",function(r){return i.roles.imp_issued_print_reprint=r}),e._uU(34),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"div",14)(37,"mat-checkbox",18),e.NdJ("ngModelChange",function(r){return i.roles.imp_controlled_print_reprint=r}),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"div",14)(41,"mat-checkbox",19),e.NdJ("ngModelChange",function(r){return i.roles.imp_issued_print_only=r}),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"div",14)(45,"mat-checkbox",20),e.NdJ("ngModelChange",function(r){return i.roles.imp_controlled_print_only=r}),e._uU(46),e.ALo(47,"translate"),e.qZA()(),e.TgZ(48,"div",14)(49,"mat-checkbox",21),e.NdJ("ngModelChange",function(r){return i.roles.imp_reconciliation=r}),e._uU(50),e.ALo(51,"translate"),e.qZA()(),e.TgZ(52,"div",14)(53,"mat-checkbox",22),e.NdJ("ngModelChange",function(r){return i.roles.imp_admin=r}),e._uU(54),e.ALo(55,"translate"),e.qZA()(),e.TgZ(56,"div",14)(57,"mat-checkbox",23),e.NdJ("ngModelChange",function(r){return i.roles.imp_recipient=r}),e._uU(58),e.ALo(59,"translate"),e.qZA()(),e.YNc(60,qi,3,3,"mat-error",4),e.qZA()()(),e.TgZ(61,"mat-dialog-actions",24)(62,"button",25),e._uU(63),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"button",26),e._uU(66),e.ALo(67,"translate"),e.qZA()()()),2&t){const a=e.MAs(2),r=e.MAs(16);e.Q6J("ngIf",i.loading),e.xp6(5),e.Q6J("ngIf",!i.isUpdate),e.xp6(1),e.Q6J("ngIf",i.isUpdate),e.xp6(5),e.Oqu(e.lcZ(12,34,"admin.internalUser.Internal-User")),e.xp6(2),e.Q6J("disabled",i.isUpdate)("ngModel",i.user)("matAutocomplete",r),e.xp6(2),e.Q6J("displayWith",i.displayName),e.xp6(2),e.Q6J("ngForOf",e.lcZ(18,36,i.recipients)),e.xp6(2),e.Q6J("ngIf","required"===i.error.userName),e.xp6(2),e.hij("",e.lcZ(22,38,"admin.internalUser.Roles"),":"),e.xp6(4),e.Q6J("ngModel",i.roles.imp_issued_print_coordinator),e.xp6(1),e.hij(" ",e.lcZ(27,40,"admin.internalUser.Issued-Print-Coordinator")," "),e.xp6(3),e.Q6J("ngModel",i.roles.imp_controlled_print_coordinator),e.xp6(1),e.hij(" ",e.lcZ(31,42,"admin.internalUser.Controlled-Print-Coordinator")," "),e.xp6(3),e.Q6J("ngModel",i.roles.imp_issued_print_reprint),e.xp6(1),e.hij(" ",e.lcZ(35,44,"admin.internalUser.Issued-Print-Reprint")," "),e.xp6(3),e.Q6J("ngModel",i.roles.imp_controlled_print_reprint),e.xp6(1),e.hij(" ",e.lcZ(39,46,"admin.internalUser.Controlled-Print-Reprint")," "),e.xp6(3),e.Q6J("ngModel",i.roles.imp_issued_print_only),e.xp6(1),e.hij(" ",e.lcZ(43,48,"admin.internalUser.Issued-Print-Only")," "),e.xp6(3),e.Q6J("ngModel",i.roles.imp_controlled_print_only),e.xp6(1),e.hij(" ",e.lcZ(47,50,"admin.internalUser.Controlled-Print-Only")," "),e.xp6(3),e.Q6J("ngModel",i.roles.imp_reconciliation),e.xp6(1),e.hij(" ",e.lcZ(51,52,"admin.internalUser.Reconciliation")," "),e.xp6(3),e.Q6J("ngModel",i.roles.imp_admin),e.xp6(1),e.hij(" ",e.lcZ(55,54,"admin.internalUser.Admin")," "),e.xp6(3),e.Q6J("ngModel",i.roles.imp_recipient),e.xp6(1),e.hij(" ",e.lcZ(59,56,"admin.internalUser.Recipient")," "),e.xp6(2),e.Q6J("ngIf","required"===i.error.roles),e.xp6(3),e.Oqu(e.lcZ(64,58,"admin.internalUser.Cancel")),e.xp6(2),e.Q6J("type","submit")("disabled",a.invalid),e.xp6(1),e.Oqu(e.lcZ(67,60,"admin.internalUser.Save"))}},dependencies:[_.sg,_.O5,b.TO,b.KE,b.hX,A.Nt,L.XC,L.ZL,y.ey,m.ZT,m.xY,m.H8,B.oG,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.nD,l.On,l.F,_.Ov,C.X$],styles:[".internal-user-list .print-table table{width:100%;margin-top:20px}.internal-user-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.internal-user-list .print-table table .mat-cell{font-size:16px}.internal-user-list .align-btn{margin-top:16px}.internal-user-popup .mat-checkbox~.mat-checkbox{margin-left:16px}\n"],encapsulation:2}),n})();function Ei(n,o){1&n&&(e.TgZ(0,"div",33)(1,"div",34),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"internal-user-list-component.Loading")))}function Ji(n,o){if(1&n&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.value),e.xp6(1),e.Oqu(t.label)}}function Qi(n,o){1&n&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"internal-user-list-component.first-name")))}function Hi(n,o){if(1&n&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.firstName," ")}}function ji(n,o){1&n&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"internal-user-list-component.last-name")))}function Yi(n,o){if(1&n&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.lastName," ")}}function Gi(n,o){1&n&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"internal-user-list-component.user-name")))}function $i(n,o){if(1&n&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.userName," ")}}function zi(n,o){1&n&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"internal-user-list-component.email-id")))}function Wi(n,o){if(1&n&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function Xi(n,o){1&n&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"internal-user-list-component.role")))}function Ki(n,o){if(1&n&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.qoO([" ",t.roles.imp_controlled_print_coordinator?"Controlled Print Coordinator,":""," ",t.roles.imp_controlled_print_reprint?"Controlled Print Reprint,":""," ",t.roles.imp_controlled_print_only?"Controlled Print Only,":""," ",t.roles.imp_reconciliation?"Reconciliation,":""," ",t.roles.imp_issued_print_coordinator?"Issued Print Coordinator,":""," ",t.roles.imp_issued_print_reprint?"Issued Print Reprint,":""," ",t.roles.imp_issued_print_only?"Issued Print Only,":""," ",t.roles.imp_admin?"Admin,":""," ",t.roles.imp_recipient?"Recipient Only":""," "])}}function Vi(n,o){1&n&&(e.TgZ(0,"th",36),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"internal-user-list-component.actions")))}function ea(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",37)(1,"button",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openAddInternalUserDialog(r))}),e._UZ(2,"i",39),e.qZA(),e.TgZ(3,"button",40),e.NdJ("click",function(){const r=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteInternalUser(r))}),e._UZ(4,"i",41),e.qZA()()}}function ta(n,o){1&n&&e._UZ(0,"tr",42)}function na(n,o){1&n&&e._UZ(0,"tr",43)}function ia(n,o){1&n&&(e.TgZ(0,"div",44),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"internal-user-list-component.No-records-found"),""))}const aa=[{path:"",component:Ue},{path:"user-list",component:(()=>{class n{constructor(t,i,a,r){this.dialog=t,this.userService=i,this.i18nService=a,this.toastr=r,this.internalUserListFilter=Object.assign({},S),this.displayedColumns=["firstName","lastName","userName","email","role","actions"],this.roles=[{label:"Issued Print Coordinator",value:"imp_issued_print_coordinator"},{label:"Controlled Print Coordinator",value:"imp_controlled_print_coordinator"},{label:"Issued Print Reprint",value:"imp_issued_print_reprint"},{label:"Controlled Print Reprint",value:"imp_controlled_print_reprint"},{label:"Issued Print Only",value:"imp_issued_print_only"},{label:"Controlled Print Only",value:"imp_controlled_print_only"},{label:"Reconciliation",value:"imp_reconciliation"},{label:"Admin",value:"imp_admin"},{label:"Recipient Only",value:"imp_recipient"}]}ngOnInit(){this.userList=[],this.loading=!1,this.recipients=(0,u.of)([]),this.recipientsMaster=[],this.getAllInternalUserList(),this.getAddedInternalUser(),this.userService.userList.subscribe(t=>{t&&t.length>0&&(this.recipientsMaster=t,this.recipients=(0,u.of)(t))})}getAddedInternalUser(){console.log("ffg",this.recipients);const t={next:i=>{this.userList="success"===i.status?i.payload:[]},error:i=>{this.toastr.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.userService.getAddedInternalUsers(this.internalUserListFilter).subscribe(t)}getAllInternalUserList(){if(0===this.recipientsMaster.length){const t={next:i=>{if("success"===i.status){const a=i.payload.sort((r,s)=>r.label.toLowerCase()<s.label.toLowerCase()?-1:r.label.toLowerCase()>s.label.toLowerCase()?1:0);this.userService.userList.next(a)}},error:i=>{this.toastr.error(i.error.message)},complete:()=>{this.loading=!1}};this.loading=!0,this.userService.getAllInternalUserList().subscribe(t)}}filterRecipientsList(){this.recipientsMaster&&(this.recipients=(0,u.of)(this.recipientsMaster.filter(t=>{if("string"==typeof this.internalUserListFilter.user&&0===t.value.toLowerCase().indexOf(this.internalUserListFilter.user.toLowerCase()))return t})),this.recipients||(this.recipients=(0,u.of)([])))}displayName(t){return t?t.label:""}openAddInternalUserDialog(t){const i={width:"700px"};i.data=t?{isUpdate:!0,userInfo:t}:{isUpdate:!1,userInfo:void 0},this.dialog.open(Bi,i).afterClosed().subscribe(r=>{r&&"success"===r.status&&(this.internalUserListFilter=Object.assign({},S),this.getAddedInternalUser())})}deleteInternalUser(t){t.isDocument?this.dialog.open(O,{data:{isInternalUser:!0,userId:t._id,isDocument:!0}}).afterClosed().subscribe(a=>{a&&"success"===a.status&&(this.internalUserListFilter=Object.assign({},S),this.getAddedInternalUser())}):this.dialog.open(O,{data:{isInternalUser:!0,userId:t._id,isDocument:!1}}).afterClosed().subscribe(a=>{a&&"success"===a.status&&(this.internalUserListFilter=Object.assign({},S),this.getAddedInternalUser())})}clearFilter(){this.internalUserListFilter=Object.assign({},S),this.getAddedInternalUser()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.uw),e.Y36(D),e.Y36(I.D),e.Y36(Z._W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-internal-user-list"]],decls:65,vars:33,consts:[["class","loader-wrapper",4,"ngIf"],[1,"main-container","internal-user-list"],[1,"container-fluid"],[1,"box-wrapper"],[1,"d-flex"],[1,"col-md-12"],[1,"row"],[1,"col-md-4"],["align","right",1,"col-md-4"],["mat-icon-button","","type","button","aria-label","add icon",1,"button",3,"matTooltip","click"],[1,"fa","fa-plus","fontCssStyle"],[1,"title-border"],[1,"col-lg-12"],[1,"full-width"],["type","text","maxlength","70","matInput","",3,"ngModel","ngModelChange"],["multiple","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"align-btn"],["mat-icon-button","","type","button",1,"button","mr-2",3,"matTooltip","click"],["mat-icon-button","","type","button",1,"button",3,"matTooltip","click"],[1,"print-table"],["mat-table","","table","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","firstName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","userName"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],["class","no-record",4,"ngIf"],[1,"loader-wrapper"],[1,"loader"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","type","button","aria-label","edit icon",1,"button","mr-2",3,"click"],[1,"fa","fa-pencil","fontCssStyle"],["mat-icon-button","","type","button","aria-label","delete icon",1,"button",3,"click"],[1,"fa","fa-trash","fontCssStyle"],["mat-header-row",""],["mat-row","",1,"example-element-row"],[1,"no-record"]],template:function(t,i){1&t&&(e.YNc(0,Ei,4,3,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3"),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e._UZ(11,"div",7),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return i.openAddInternalUserDialog()}),e.ALo(14,"translate"),e._UZ(15,"i",10),e.qZA()()(),e._UZ(16,"div",11),e.qZA()(),e.TgZ(17,"div",12)(18,"div",6)(19,"div",7)(20,"mat-form-field",13)(21,"mat-label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"input",14),e.NdJ("ngModelChange",function(r){return i.internalUserListFilter.user=r}),e.qZA()()(),e.TgZ(25,"div",7)(26,"mat-form-field",13)(27,"mat-label"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"mat-select",15),e.NdJ("ngModelChange",function(r){return i.internalUserListFilter.roles=r}),e.YNc(31,Ji,2,2,"mat-option",16),e.qZA()()(),e.TgZ(32,"div",8)(33,"div",17)(34,"button",18),e.NdJ("click",function(){return i.getAddedInternalUser()}),e.ALo(35,"translate"),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"button",19),e.NdJ("click",function(){return i.clearFilter()}),e.ALo(39,"translate"),e._uU(40),e.ALo(41,"translate"),e.qZA()()()()(),e.TgZ(42,"div",20)(43,"table",21),e.ynx(44,22),e.YNc(45,Qi,3,3,"th",23),e.YNc(46,Hi,2,1,"td",24),e.BQk(),e.ynx(47,25),e.YNc(48,ji,3,3,"th",23),e.YNc(49,Yi,2,1,"td",24),e.BQk(),e.ynx(50,26),e.YNc(51,Gi,3,3,"th",23),e.YNc(52,$i,2,1,"td",24),e.BQk(),e.ynx(53,27),e.YNc(54,zi,3,3,"th",23),e.YNc(55,Wi,2,1,"td",24),e.BQk(),e.ynx(56,28),e.YNc(57,Xi,3,3,"th",23),e.YNc(58,Ki,2,9,"td",24),e.BQk(),e.ynx(59,29),e.YNc(60,Vi,3,3,"th",23),e.YNc(61,ea,5,0,"td",24),e.BQk(),e.YNc(62,ta,1,0,"tr",30),e.YNc(63,na,1,0,"tr",31),e.qZA(),e.YNc(64,ia,3,3,"div",32),e.qZA()()()()),2&t&&(e.Q6J("ngIf",i.loading),e.xp6(9),e.Oqu(e.lcZ(10,17,"internal-user-list-component.internal-user-list")),e.xp6(4),e.s9C("matTooltip",e.lcZ(14,19,"internal-user-list-component.Create-New-Internal-User")),e.xp6(9),e.hij("",e.lcZ(23,21,"internal-user-list-component.user-name")," "),e.xp6(2),e.Q6J("ngModel",i.internalUserListFilter.user),e.xp6(4),e.Oqu(e.lcZ(29,23,"internal-user-list-component.roles")),e.xp6(2),e.Q6J("ngModel",i.internalUserListFilter.roles),e.xp6(1),e.Q6J("ngForOf",i.roles),e.xp6(3),e.MGl("matTooltip"," ",e.lcZ(35,25,"internal-user-list-component.apply-filter"),""),e.xp6(2),e.hij(" ",e.lcZ(37,27,"internal-user-list-component.apply-filter")," "),e.xp6(2),e.MGl("matTooltip"," ",e.lcZ(39,29,"internal-user-list-component.clear-filter"),""),e.xp6(2),e.hij(" ",e.lcZ(41,31,"internal-user-list-component.clear")," "),e.xp6(3),e.Q6J("dataSource",i.userList),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",0===i.userList.length))},dependencies:[_.sg,_.O5,b.KE,b.hX,A.Nt,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,y.ey,G.gD,P.gM,l.Fj,l.JJ,l.nD,l.On,C.X$],styles:[".internal-user-list .print-table table{width:100%;margin-top:20px}.internal-user-list .print-table table .mat-header-cell{font-size:16px;font-weight:500}.internal-user-list .print-table table .mat-cell{font-size:16px}.internal-user-list .align-btn{margin-top:16px}.internal-user-popup .mat-checkbox~.mat-checkbox{margin-left:16px}\n"],encapsulation:2}),n})()},{path:"profile-list",component:kt},{path:"profile",component:Pn},{path:"reasons-list",component:fi},{path:"profile-mapping-list",component:Xn},{path:"printer-list",component:ht},{path:"ext-user-list",component:Di},{path:"admin-audit",component:$e}];let oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[N.Bz.forChild(aa),N.Bz]}),n})();var ra=p(2638),sa=p(4623),la=p(3954),ca=p(9832),da=p(6856),pa=p(6087),ma=p(6517),ua=p(7144);p(925);var va=function(){var n=(0,T.Z)(function o(){(0,M.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.ez,y.BQ,z.eL,y.si,ua.Q8,ne.rt,y.BQ]}),n}(),xa=p(2368);let Ca=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[C.sK],imports:[_.ez,oa,ra.SJ,w.Hi,A.c,c.p0,sa.ie,L.Bb,G.LD,la.N6,se.Ps,m.Is,ca.vV,da.FA,ma.Yd,pa.TU,B.p9,K.Fk,P.AV,va,xa.rP,l.u5,l.UX,we,nn,C.aw.forChild({defaultLanguage:"en",extend:!0})]}),n})()}}]);